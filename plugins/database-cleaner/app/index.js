!function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={0:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.wpJsonDbclnr=window.wpJsonDbclnr||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([141,1]),n()}({0:function(e,t){e.exports=React},1:function(e,t,n){"use strict";var r=n(15);n.d(t,"b",(function(){return r.a}));var a=n(12);n.d(t,"c",(function(){return a.a}));n(39);var o=n(51);n.d(t,"q",(function(){return o.a}));var s=n(52);n.d(t,"a",(function(){return s.a}));var i=n(53);n.d(t,"g",(function(){return i.a}));var c=n(54);n.d(t,"v",(function(){return c.a}));n(55);var u=n(40);n.d(t,"E",(function(){return u.b})),n.d(t,"f",(function(){return u.a}));var l=n(56);n.d(t,"d",(function(){return l.a}));var m=n(57);n.d(t,"e",(function(){return m.a}));var p=n(23);n.d(t,"k",(function(){return p.a}));var f=n(58);n.d(t,"z",(function(){return f.a}));var d=n(41);n.d(t,"u",(function(){return d.b})),n.d(t,"p",(function(){return d.a}));n(59),n(60),n(10),n(42),n(24);var y=n(61);n.d(t,"s",(function(){return y.a}));var b=n(62);n.d(t,"i",(function(){return b.a}));var h=n(25);n.d(t,"r",(function(){return h.a}));var g=n(6);n.d(t,"j",(function(){return g.a}));var v=n(17);n.d(t,"D",(function(){return v.a}));var E=n(43);n.d(t,"t",(function(){return E.b})),n.d(t,"l",(function(){return E.a}));var R=n(63);n.d(t,"h",(function(){return R.a}));var _=n(44);n.d(t,"m",(function(){return _.a})),n.d(t,"n",(function(){return _.b}));n(64),n(26);var O=n(20);n.d(t,"C",(function(){return O.a}));n(16);var T=n(27);n.d(t,"o",(function(){return T.a}));n(69);var w=n(28);n.d(t,"x",(function(){return w.a}));var S=n(46);n.d(t,"y",(function(){return S.b})),n.d(t,"w",(function(){return S.a}));n(47);var P=n(70);n.d(t,"B",(function(){return P.a}));var A=n(3);n.d(t,"A",(function(){return A.a}));var C=n(9);n.d(t,"L",(function(){return C.c})),n.d(t,"K",(function(){return C.b}));var k=n(14);n.d(t,"H",(function(){return k.c})),n.d(t,"J",(function(){return k.e})),n.d(t,"I",(function(){return k.d})),n.d(t,"F",(function(){return k.a})),n.d(t,"G",(function(){return k.b}));n(21)},132:function(e,t){e.exports=ReactDOM},141:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n(1),o=dbclnr_database_cleaner.prefix,s=dbclnr_database_cleaner.db_prefix,i=dbclnr_database_cleaner.domain,c=dbclnr_database_cleaner.rest_url.replace(/\/+$/,""),u=dbclnr_database_cleaner.api_url.replace(/\/+$/,""),l=dbclnr_database_cleaner.plugin_url.replace(/\/+$/,""),m="1"===dbclnr_database_cleaner.is_pro,p=m&&"1"===dbclnr_database_cleaner.is_registered,f=dbclnr_database_cleaner.rest_nonce,d=dbclnr_database_cleaner.core,y=dbclnr_database_cleaner.core_count,b=n(4);function h(){var e=_(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n\n  .log-date {\n    color: white;\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: #ccb028;\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: #cc2828;\n    color: white;\n  }\n"]);return h=function(){return e},e}function g(){var e=_(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    border-radius: 10px;\n    padding: 10px;\n    font-family: Lato;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]);return g=function(){return e},e}function v(){var e=_(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]);return v=function(){return e},e}function E(){var e=_(["\n\n  .nui-block-title {\n    display: none;\n  }\n\n  .nui-block-content {\n    display: flex;\n    padding: 10px;\n\n    h2 {\n      color: #055082;\n      font-size: 16px;\n      margin: 5px 0 5px 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      line-height: 18px;\n    }\n  }\n"]);return E=function(){return e},e}function R(){var e=_(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]);return R=function(){return e},e}function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=b.a.div(R()),T=Object(b.a)(a.a)(E()),w=b.a.img(v()),S=b.a.div(g()),P=b.a.ul(h());function A(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){C(o,r,a,s,i,"next",e)}function i(e){C(o,r,a,s,i,"throw",e)}s(void 0)}))}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=wp.element,j=D.useState,I=D.useEffect,N="".concat(c,"/meow-common/v1"),L=function(e){var t=e.request,n=e.title,r=e.max,o=U(j(!1),2),s=o[0],i=o[1],c=U(j([]),2),u=c[0],l=c[1],m=u.length>0?u.reduce((function(e,t){return e+t})):0,p=u.length>0?Math.ceil(m/u.length):0,d=!u.length&&s;I((function(){s&&setTimeout(k(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,Object(a.J)("".concat(N,"/").concat(t),{nonce:f});case 3:r=(new Date).getTime(),o=r-n,l((function(e){return[].concat(A(e),[o])}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[u]);return React.createElement(O,{style:{width:200,textAlign:"center"}},React.createElement(a.D,{h2:!0,style:{color:"white"}},n),React.createElement(a.h,{size:200,value:d?r:p,max:r},React.createElement("span",{style:{fontSize:20}},d?"START":p+" ms"),React.createElement("span",{style:{fontSize:12}},d?"YOUR ENGINE":u.length+" requests")),React.createElement(a.c,{style:{width:"100%",marginTop:10},color:s?"#cc3627":"#ccb027",onClick:function(){s||l([]),i(!s)}},s?"Stop":"Start"))};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){W(o,r,a,s,i,"next",e)}function i(e){W(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=wp.element,V=H.useState,q=H.useEffect;u&&c&&l||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var G="".concat(c,"/meow-common/v1"),Q=React.createElement(O,null,React.createElement(a.D,{p:!0},"Meow Apps is run by Jordy Meow, a photographer and software developer living in Japan (and taking ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"a lot of photos"),"). Meow Apps proposes a suite of plugins focusing on photography, imaging, optimization and SEO. The ultimate goal is to make your website better, faster, while making it easy. Meow Apps also teams up with the best players in the community. For more information, please check ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),$=React.createElement(O,null,React.createElement(a.D,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," helps you analyzing the raw performance of your install by giving you the average time it takes to run an empty request to your server. You can try to disable some plugins (or change their options) then Start this again to see how it influences the results. An excellent install would have an Empty Request Time of less than 500 ms. Keep it absolutely under 2,000 ms! For more information, ",React.createElement("a",{href:"https://meowapps.com/clean-optimize-wordpress/#Optimize_your_Empty_Request_Time",target:"_blank"},"click here"),"."),React.createElement(a.D,{p:!0},React.createElement("b",null,"File Operation Time")," creates a temporary size of 10MB every time. ",React.createElement("b",null,"SQL Request Time")," counts the number of posts. Those two should be very fast, and almost the same as the ",React.createElement("b",null,"Empty Request Time"),".")),X=React.createElement(O,null,React.createElement(a.D,{p:!0},"Too many WordPress installs are blown-up with useless and/or heavy plugins, and not aware of best practices. That's not the fault of the users; WordPress pretends to be simple but it is in fact very complex, and the immensity and diversity of the community around it makes it a real jungle where everything is possible."),React.createElement(a.D,{p:!0},"A rule of thumb is to keep your WordPress install as simple as possible, with the least number of plugins installed (run away from the heavy ones) and an excellent hosting service. Avoid VPS or self-hosted solutions; you must be a professional to actually set them up so that they are actually performant."),React.createElement(a.D,{p:!0},"On the Meow Apps website, you will find articles which are always updated with the latest recommendations.",React.createElement("ul",null,React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/how-to-debug-wordpress-errors/",target:"_blank"},"How To Debug WordPress")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"☘️  ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"Best Hosting Services for WordPress"))))),Z=["".concat(G,"/all_settings/"),{headers:{"X-WP-Nonce":f}}],ee=function(){var e=Y(V(!1),2),t=e[0],n=e[1],o=Object(r.b)(Z,a.I),s=o.data,i=o.mutate,c=o.error,u=null==s?void 0:s.data,m=null==u?void 0:u.meowapps_hide_meowapps,p=null==u?void 0:u.force_sslverify,d=Y(V(!1),2),y=d[0],b=d[1],h=Y(V([]),2),g=h[0],v=h[1],E=Y(V(""),2),R=E[0],_=E[1];q((function(){c&&!t&&(n(!0),console.error("Error from UseSWR",c.message))}),[c]),q((function(){var e=document.getElementById("meow-common-phpinfo");_(e.innerHTML)}),[]);var A=function(){var e=J(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=M({},s.data))[n]=t,i(M(M({},s),{},{data:r}),!1),b(!0),e.next=6,Object(a.J)("".concat(G,"/update_option"),{json:{name:n,value:t},nonce:f});case 6:o=e.sent,b(!1),o.success||alert(o.message),i();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=J(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Object(a.J)("".concat(G,"/error_logs"),{nonce:f});case 3:t=e.sent,n=t&&t.data?t.data:[],v(n.reverse()),b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=React.createElement(a.v,{title:"Main Menu"},React.createElement(a.e,{max:"1"},React.createElement(a.d,{id:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(a.D,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:y,checked:m,onChange:A}))),U=React.createElement(a.v,{title:"SSL Verify"},React.createElement(a.e,{max:"1"},React.createElement(a.d,{id:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(a.D,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:y,checked:p,onChange:A})));return React.createElement(a.q,{showRestError:t},React.createElement(a.i,{title:"The Dashboard"}),React.createElement(a.E,null,React.createElement(a.f,{full:!0},React.createElement(a.y,null,React.createElement(a.w,{title:"Meow Apps"},Q,React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(T,{title:"Media Cleaner",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/media-cleaner.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"The Cleaner analyzes your WordPress entirely to find out which files are not used. You can trash them, before deleting them permanently. Your WordPress will breath again :)"))),React.createElement(T,{title:"Database Cleaner",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/database-cleaner.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Clean your WordPress database. This plugin is simple, handles risk levels, and aims to work even on oversized databases on which other plugins fail to operate."))),React.createElement(T,{title:"Media File Renamer",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/media-file-renamer.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"The Renamer will help you in getting nicer filenames for an improved SEO and a tidier filesystem. It's mostly automatic and very fun to use."))),React.createElement(T,{title:"Social Engine",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/social-engine.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Organize, schedule and automate the publishing of your content and photos on social accounts. Similar to Buffer, TweetDeck, etc, but without all the limitations, and in your WordPress."))),React.createElement(T,{title:"Meow Analytics",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/meow-analytics.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Are you tired of those heavy plugins, accessing your Google Analytics deliberately? Switch to Meow Analytics!")))),React.createElement(a.f,{minimal:!0},React.createElement(T,{title:"Photo Engine",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/wplr-sync.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Are you using Lightroom? So you know Photo Engine already. Wait, you don't? You must try it! This plugin will be your favorite very soon."))),React.createElement(T,{title:"Meow Gallery",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/meow-gallery.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"This is the fastest gallery system... and it is pretty as well! It is 100% compatible with the native WordPress galleries and therefore, works right away."))),React.createElement(T,{title:"Meow Lightbox",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/meow-lightbox.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"A very sleek and performant Lightbox which will also display your EXIF data (camera, lens, aperture...). Photographers love it."))),React.createElement(T,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/wp-retina-2x.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images + Retina")),React.createElement("p",null,"It handles Retina, help you managing the Image Sizes registered in your WP, and much more."))),React.createElement(T,{title:"Contact Form Block",className:"primary"},React.createElement(w,{src:"".concat(l,"/common/img/contact-form-block.png")}),React.createElement("div",null,React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"A simple, pretty and superlight contact form. If you simply want your visitors to get in touch with you, this contact form will be perfect for you and your WordPress.")))))),React.createElement(a.w,{title:"Performance"},$,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(L,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(L,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(L,{title:"SQL Request Time",request:"sql_request",max:2800}))),React.createElement(a.w,{title:"Recommendations"},X),React.createElement(a.w,{title:"PHP Info"},React.createElement(S,{dangerouslySetInnerHTML:{__html:R}})),React.createElement(a.w,{title:"PHP Error Logs"},React.createElement(O,null,React.createElement(a.c,{style:{marginBottom:10},color:"#ccb027",onClick:C},"Load PHP Error Logs"),React.createElement(P,null,g.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))))),React.createElement(a.w,{title:"Settings"},React.createElement(a.a,{title:"Settings",className:"primary"},k,U))))))};function te(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){te(o,r,a,s,i,"next",e)}function i(e){te(o,r,a,s,i,"throw",e)}s(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=wp.element,se=oe.useState,ie=oe.useEffect,ce="".concat(c,"/meow-licenser/").concat(o,"/v1"),ue=function(){var e=re(se(!1),2),t=e[0],n=e[1],r=re(se(!1),2),o=r[0],s=r[1],i=re(se(null),2),c=i[0],u=i[1],l=re(se(null),2),d=l[0],y=l[1],b=re(se(""),2),h=b[0],g=b[1],v=p&&(!d||"valid"!==d.license),E=function(){var e=ne(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,Object(a.J)("".concat(ce,"/get_license"),{nonce:f});case 5:t=e.sent,y(t.data),t.data.key&&g(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(a.J)("".concat(ce,"/set_license"),{nonce:f,json:{serialKey:null}});case 3:e.sent.success&&(g(""),y(null),u("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=ne(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,Object(a.J)("".concat(ce,"/set_license"),{nonce:f,json:{serialKey:h,override:!0}});case 3:(t=e.sent).success&&(y(t.data),t.data&&!t.data.issue&&u("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=ne(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==h){e.next=5;break}return s(!0),y(null),g(""),e.abrupt("return");case 5:return n(!0),e.next=8,Object(a.J)("".concat(ce,"/set_license"),{nonce:f,json:{serialKey:h}});case 8:(t=e.sent).success&&(y(t.data),t.data&&!t.data.issue&&u("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ie((function(){E()}),[]);var T=v?"Forced License":p?"Enabled":"Disabled",w=v||d&&"valid"===d.license,S="Your license is active. Thanks a lot for your support :)";v&&d&&d.check_url&&(S=React.createElement(React.Fragment,null,React.createElement("span",null,S),React.createElement("br",null),React.createElement("small",null,"This license was enabled manually. To check your license status, please click ",React.createElement("a",{target:"_blank",href:d.check_url+"&cache="+642e3*Math.random()},"here"),"."))),w||(d?"no_activations_left"===d.issue?S=React.createElement("span",null,"There are no activations left for this license. You can visit your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===d.issue?S=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),"."):"missing"===d.issue?S="This license does not exist.":"disabled"===d.issue?S="This license has been disabled.":"item_name_mismatch"===d.issue?S="This license seems to be for a different plugin... isn't it? :)":"forced"===d.issue?S="ABC":(S=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:d})):S="Unknown error :(");var P=React.createElement(a.a,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps Store"),"."),A=React.createElement(a.a,{title:"Pro Version (".concat(T,")"),busy:t,className:"primary"},React.createElement(a.v,{title:"Serial Key",style:{fontWeight:"bold"}},React.createElement(a.k,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:h,onChange:function(e){return g(e)},placeholder:""})),d&&!w&&React.createElement(a.m,null,S),d&&w&&React.createElement(a.n,null,S),!d&&React.createElement(a.D,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button."),React.createElement(a.v,{contentAlign:"right"},d&&!w&&React.createElement(a.c,{className:"secondary",disabled:t||!h,onClick:O},"Retry to validate"),d&&d.key===h&&React.createElement(a.c,{className:"secondary",disabled:t||!h,onClick:R},"Remove License"),React.createElement(a.c,{disabled:t||!h||d&&d.key===h,onClick:O},"Validate License"),o&&!w&&React.createElement(a.c,{disabled:t||!h||d&&d.key===h,onClick:_,className:"danger"},"Force License")),React.createElement(a.o,{isOpen:"licenseAdded"===c,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}),React.createElement(a.o,{isOpen:"licenseRemoved"===c,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}));return m?A:P},le=wp.element.render;document.meowDashboardLoaded||(document.meowDashboardLoaded=!0,document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("meow-common-dashboard");t&&le(React.createElement(ee,null),t)})));var me=n(0),pe=wp.i18n.__,fe={};fe.PENDING=pe("Pending","database-cleaner"),fe.RENAME=pe("Rename","database-cleaner"),fe.TITLE=pe("Title","database-cleaner"),fe.INFO_TABLE_DROP=pe("Remove this table","database-cleaner"),fe.INFO_TABLE_OPTIMIZE=pe("Optimize this table (check the tutorial to learn more about it)","database-cleaner"),fe.INFO_TABLE_BULK_DROP=pe("Remove the selected tables","database-cleaner"),fe.INFO_TABLE_BULK_OPTIMIZE=pe("Optimize the selected tables (check the tutorial to learn more about it)","database-cleaner"),fe.INFO_BULK_REFRESH=pe("Refresh the counts","database-cleaner"),fe.INFO_BULK_DELETE=pe("Delete the data older than the date threshold","database-cleaner"),fe.INFO_BULK_DELETE_ITEMS=pe("Delete the selected items","database-cleaner"),fe.INFO_BULK_OPTIMIZE=pe("Optimize the selected tables","database-cleaner"),fe.INFO_BULK_USED_BY=pe("Assign Plugin for Selected Items","database-cleaner"),fe.INFO_UNKNOWN=pe('The "Used By" data is only available in the Pro Version. ',"database-cleaner"),fe.INFO_UNKNOWN_PRO=pe('We have no "Used By" data for this. If you know how this is used, please let us know :)',"database-cleaner");var de=fe,ye={minWidth:0,padding:"0 4px"},be=m?de.INFO_UNKNOWN_PRO:de.INFO_UNKNOWN,he={marginTop:25,borderTop:"1px solid lightgray",paddingTop:15,display:"flex",alignItems:"center"},ge=function(e,t){var n,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l="n/a"===(null==e||null===(n=e.info)||void 0===n?void 0:n.status)?React.createElement(React.Fragment,null,be):null,m=null!==(r=null==e||null===(o=e.info)||void 0===o?void 0:o.status)&&void 0!==r?r:"ok",p="never"===(null==e?void 0:e.clean_style),f="#d69236",d=(null==e?void 0:e.info)&&void 0!==i?React.createElement(a.d,{id:c||(null==e?void 0:e.name),enabled:!p,checked:i,onChange:s,isBusy:u}):null,y=p||!e.info?null:React.createElement(a.C,{text:l,position:"right"},React.createElement(a.j,{icon:"ok"===m?"check":"warn"===m?"close":"alert",color:"ok"===m?"black":"warn"===m?"#ba4300":f,width:"14",height:"14",style:{marginRight:3},onClick:"n/a"===m?function(){return window.open("https://wordpress.org/support/plugin/database-cleaner/","_blank")}:null}));return React.createElement("div",{style:{display:"flex",alignItems:"center"}},d,y,React.createElement("span",{style:{color:p?"#cac4c4":"ok"===m?"black":"warn"===m?"#ba4300":"black"}},t))},ve=function(e,t,n){return React.createElement(a.u,{id:e,scrolldown:!0,value:t,onChange:n},React.createElement(a.p,{value:5,label:"5 items per page"}),React.createElement(a.p,{value:10,label:"10 items per page"}),React.createElement(a.p,{value:25,label:"25 items per page"}),React.createElement(a.p,{value:50,label:"50 items per page"}),React.createElement(a.p,{value:100,label:"100 items per page"}),React.createElement(a.p,{value:200,label:"200 items per page"}))};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){we(o,r,a,s,i,"next",e)}function i(e){we(o,r,a,s,i,"throw",e)}s(void 0)}))}}var Pe=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ae=function(e,t){return new Promise(function(){var n=Se(regeneratorRuntime.mark((function n(r){var a,o,s,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new Date,n.next=3,t();case 3:if(o=new Date,s=o.getTime()-a.getTime(),!((i=e-s)>0)){n.next=9;break}return n.next=9,Pe(i);case 9:r();case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},Ce=function(e){var t=e.filter((function(e){return"never"===e.clean_style})),n=e.filter((function(e){return"never"!==e.clean_style}));return[].concat(Oe(n),Oe(t))},ke=function(e){return isNaN(e)?"-":Object(a.G)(1e6*e)},Ue=function(e,t,n){var r=(t-1)*n,a=t*n;return e.slice(r,a)},xe=function(e){var t=e.itemsUsedBy,n=e.optionName,r=e.plugins,o=e.selectedItems,s=e.setSelectedUsedBy,i=e.toggleModal,c=e.updateOption,u=e.mutateSettings,l=e.onRefresh,m=e.isBusy,p=e.disabled,f=o.filter((function(e){return e.info.custom||!e.info.usedBy.toLowerCase()})).map((function(e){return e.name}));if(!f.length)return null;var d=function(){var e=Se(regeneratorRuntime.mark((function e(a){var o,s,i,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Oe(a.items),s=t.filter((function(e){return!o.includes(e.item)})),i=r.find((function(e){return e.slug===a.value})),m="unknown"!==a.value?a.items.map((function(e){return{item:e,name:i.name,slug:i.slug.replace(/-pro$/,"")}})):[],e.next=6,c({item:n,param:{name:n,value:[].concat(Oe(s),Oe(m))},onSuccess:function(){u(),l()}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(a.c,{icon:"link",style:Re(Re({},ye),{},{background:"#016699",padding:"0px 15px"}),onClick:function(){s({items:f,value:"unknown"}),i("usedBy",!0,d)},isBusy:m,disabled:p},de.INFO_BULK_USED_BY)},Be=function(e){var t=e.info,n=e.itemName,r=e.itemsUsedBy,o=e.optionName,s=e.plugins,i=e.setSelectedUsedBy,c=e.toggleModal,u=e.updateOption,l=e.mutateSettings,m=e.onRefresh,p=null==t?void 0:t.usedBy,f=null==t?void 0:t.status,d=null==t?void 0:t.custom,y=null;if("n/a"===f||!0===d){var b,h,g=null!==(b=null===(h=r.find((function(e){return e.item===n})))||void 0===h?void 0:h.slug)&&void 0!==b?b:"unknown",v=function(){var e=Se(regeneratorRuntime.mark((function e(t){var n,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe(t.items),a=r.filter((function(e){return!n.includes(e.item)})),i=s.find((function(e){return e.slug===t.value})),c="unknown"!==t.value?t.items.map((function(e){return{item:e,name:i.name,slug:i.slug.replace(/-pro$/,"")}})):[],console.log("ADDITEM",{addItem:c}),e.next=7,u({item:o,param:{name:o,value:[].concat(Oe(a),Oe(c))},onSuccess:function(){l(),m()}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();y=function(){i({items:[n],value:g}),c("usedBy",!0,v)}}return React.createElement("div",{onClick:y},"ok"===f&&React.createElement("span",null,p),"warn"===f&&React.createElement("span",{style:{color:"#ba4300",textDecoration:"line-through"}},p),"n/a"===f&&React.createElement("span",null,"Unknown"),!!y&&React.createElement("div",{style:{display:"flex",cursor:"pointer",fontSize:10,color:"n/a"===f?"#d69236":"gray",textTransform:"uppercase",lineHeight:"10px"}},React.createElement("span",null,"n/a"===f?"Assign Plugin":"Change Plugin"),React.createElement(a.j,{icon:"pencil",style:{marginLeft:3},height:"10"})))},De=function(e){var t=e.id,n=e.value,r=e.onChange,o=e.onReset;return React.createElement("label",{style:{display:"flex",alignItems:"center",marginLeft:"16px"}},React.createElement("span",{style:{marginRight:"4px"}},"Search:"),React.createElement(a.k,{id:t,value:n,onChange:r,onReset:o}))};function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){Fe(o,r,a,s,i,"next",e)}function i(e){Fe(o,r,a,s,i,"throw",e)}s(void 0)}))}}function ze(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||We(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye,Ke,He,Ve,qe,Ge,Qe,$e,Xe,Ze,et,tt=function(e){return"".concat(e,"_count")},nt=function(e){return"".concat(e,"_delete")},rt=function(e){return"".concat(e,"_clean")},at=[{accessor:"action",title:"",sortable:!1,width:"30px"},{accessor:"details",title:"Details",sortable:!1,width:"100%"},{accessor:"count",title:"Count",sortable:!1,width:"120px"},{accessor:"clean",title:"Mode",sortable:!1,width:"80px"}],ot=[{accessor:"action",title:"",sortable:!1,width:"30px"},{accessor:"details",title:"Post Type",sortable:!0,width:"70%"},{accessor:"usedBy",title:"Used By",sortable:!0,width:"35%"},{accessor:"count",title:"Count",sortable:!1,width:"120px"},{accessor:"clean",title:"Mode",sortable:!1,width:"80px"}],st=[{accessor:"actions",title:"",sortable:!1,width:"80px"},{accessor:"table",title:"Table",sortable:!0,width:"70%"},{accessor:"usedBy",title:"Used By",sortable:!0,width:"35%"},{accessor:"size",title:"Size",sortable:!0,width:"80px",align:"right"},{accessor:"percent",title:"Relative %",sortable:!1,width:"80px",align:"right"}],it=[{accessor:"actions",title:"",sortable:!1,width:"30px"},{accessor:"name",title:"Name",sortable:!0,width:"70%"},{accessor:"usedBy",title:"Used By",sortable:!0,width:"35%"},{accessor:"size",title:"Size",sortable:!0,width:"85px"},{accessor:"autoloaded",title:"Autoloaded",sortable:!1,width:"80px"}],ct=[{accessor:"actions",title:"",sortable:!1,width:"30px"},{accessor:"name",title:"Name",sortable:!0,width:"70%"},{accessor:"usedBy",title:"Used By",sortable:!0,width:"35%"},{accessor:"schedule",title:"Schedule",sortable:!1,width:"100px"},{accessor:"nextRun",title:"Next Run",sortable:!1,width:"180px"}],ut=[{label:"Auto",value:"auto"},{label:"Manual",value:"manual"},{label:"Never",value:"never"}],lt=[{label:"None",value:"none"},{label:"1 day",value:"1 day"},{label:"7 days",value:"7 days"},{label:"1 month",value:"1 month"},{label:"1 year",value:"1 year"}],mt=[{title:"All",value:"all",filterValue:""},{title:"Not Used",value:"notUsed",filterValue:"warn"},{title:"Used",value:"used",filterValue:"ok"},{title:"Autoloaded",value:"yes",filterValue:"yes"},{title:"Unknown",value:"unknown",filterValue:"n/a"}],pt=[{title:"All",value:"all",filterValue:""},{title:"Not Used",value:"notUsed",filterValue:"warn"},{title:"Used",value:"used",filterValue:"ok"},{title:"Unknown",value:"unknown",filterValue:"n/a"}],ft=[{title:"All",value:"all",filterValue:""},{title:"Not Used",value:"notUsed",filterValue:"warn"},{title:"Used",value:"used",filterValue:"ok"},{title:"Unknown",value:"unknown",filterValue:"n/a"}],dt=[{title:"All",value:"all",filterValue:""},{title:"Not Used",value:"notUsed",filterValue:"warn"},{title:"Used",value:"used",filterValue:"ok"},{title:"Unknown",value:"unknown",filterValue:"n/a"}],yt=function(e,t,n){return e<t?"asc"===n?-1:1:e>t?"asc"===n?1:-1:0},bt=function(e,t,n){var r=Number(e),a=Number(t);return"asc"===n?r-a:a-r},ht=function(e,t,n){if(!t&&!n)return ze(e);switch(t){case"usedBy":return e.sort((function(e,t){return yt(e.info.usedBy.toUpperCase(),t.info.usedBy.toUpperCase(),n)}));case"details":return e.sort((function(e,t){return yt(e.name.toUpperCase(),t.name.toUpperCase(),n)}));case"table":return e.sort((function(e,t){return yt(e.table.toUpperCase(),t.table.toUpperCase(),n)}));case"size":return e.sort((function(e,t){return e.hasOwnProperty("size")?bt(e.size,t.size,n):e.hasOwnProperty("option_value_length")?bt(e.option_value_length,t.option_value_length,n):0}));case"name":return e.sort((function(e,t){return e.hasOwnProperty("cron_name")?yt(e.cron_name.toUpperCase(),t.cron_name.toUpperCase(),n):e.hasOwnProperty("option_name")?yt(e.option_name.toUpperCase(),t.option_name.toUpperCase(),n):0}))}return ze(e)},gt=function(e,t,n,r,a){var o,s,i=ze(e);r&&(i=vt(ze(i),"wordpress")),a&&(i=Et(ze(i),a));var c=null!==(o=null===(s=n.find((function(e){return e.value===t})))||void 0===s?void 0:s.filterValue)&&void 0!==o?o:"";return c?["yes","no"].includes(c)?i.filter((function(e){return e.autoload===c})):i.filter((function(e){var t;return(null===(t=e.info)||void 0===t?void 0:t.status)===c})):ze(i)},vt=function(e,t){return e.filter((function(e){var n;return(null===(n=e.info)||void 0===n?void 0:n.usedBy.toLowerCase())!==t}))},Et=function(e,t){return e.filter((function(e){return!(!e.hasOwnProperty("cron_name")||!e.cron_name.includes(t))||(!(!e.hasOwnProperty("table")||!e.table.includes(t))||(!(!e.hasOwnProperty("name")||!e.name.includes(t))||(!(!e.hasOwnProperty("option_name")||!e.option_name.includes(t))||e.info.usedBy.toLowerCase().includes(t.toLowerCase()))))}))},Rt={Welcome:"Welcome",Tables:"Tables",WordPressCore:"WordPressCore",PostTypes:"PostTypes",Options:"Options",Settings:"Settings",Logs:"Logs",CustomQueries:"CustomQueries"},_t={Welcome:0,Tables:0,WordPressCore:0,PostTypes:0,Options:0,Settings:0,Logs:0},Ot=0,Tt=0,wt=0,St=0,Pt=0,At={busy:!1,busyAction:[],busyBulkTasks:!1,busyCleanBulkTasks:!1,busyOptions:!1,busyCronJobs:!1,apiErrors:null,status:"",clickedTab:_t,fileContent:"",agaThreshold:"7 days",bulkBatchSize:100,customQueries:[],customQueriesCount:[],editCustomQueries:[],dbSizes:[],previousTotalSize:null,totalSize:null,listPostTypes:[],listPostTypesCount:[],posts:d.posts,postsCount:y.posts,postsMetadata:d.posts_metadata,postsMetadataCount:y.posts_metadata,users:d.users,usersCount:y.users,comments:d.comments,commentsCount:y.comments,transients:d.transients,transientsCount:y.transients,options:[],filteredOptions:[],filteredCronJobs:[],filteredListPostTypes:[],filteredTables:[],entries:[],cronJobs:[],plugins:[],postTypesUsedBy:[],optionsUsedBy:[],tablesUsedBy:[],cronJobsUsedBy:[],selectedUsedBy:{items:[],slug:"unknown"},initialized:{PostTypes:!1},modals:{deleteAll:{enable:!1,onNext:function(){}},loadEntry:{enable:!1,onNext:function(){}},usedBy:{enable:!1,onNext:function(){}},optionValue:{enable:!1,onNext:function(){}}},mutateSettings:(et=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return et.apply(this,arguments)}),mutateDbSizes:(Ze=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ze.apply(this,arguments)}),mutateListPostTypes:(Xe=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Xe.apply(this,arguments)}),mutatePosts:($e=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return $e.apply(this,arguments)}),mutatePostsMetadata:(Qe=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Qe.apply(this,arguments)}),mutateUsers:(Ge=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ge.apply(this,arguments)}),mutateComments:(qe=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return qe.apply(this,arguments)}),mutateTransients:(Ve=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ve.apply(this,arguments)}),mutateOptions:(He=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return He.apply(this,arguments)}),mutateCronJobs:(Ke=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ke.apply(this,arguments)}),mutatePlugins:(Ye=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return Ye.apply(this,arguments)}),shouldFetchOptions:!1,shouldFetchCronJobs:!1,optionsFilters:{page:1,limit:10,filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:""},optionsTotal:{all:"-",yes:"-",no:"-"},cronJobsFilters:{page:1,limit:10,filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:""},cronJobsTotal:{all:"-",yes:"-",no:"-"},tablesFilters:{page:1,limit:10,filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:""},tablesTotal:{active:"-",inactive:"-",unknown:"-"},listPostTypesFilters:{page:1,limit:10,filterBy:"all",hideUsedByWordPress:!1,search:"",sort:"",accessor:""},listPostTypesTotal:{all:"-",yes:"-",no:"-"}},Ct="BUSY_ACTION_UPDATED",kt=function(e,t){switch(t.type){case"ERROR_UPDATED":var n=t.apiErrors;return Ne(Ne({},e),{},{apiErrors:n});case"SET_SETTINGS_MUTATE":var r=t.mutateSettings;return Ne(Ne({},e),{},{mutateSettings:r});case"SET_DB_SIZES_MUTATE":var a=t.mutateDbSizes;return Ne(Ne({},e),{},{mutateDbSizes:a});case"SET_LIST_POST_TYPES_MUTATE":var o=t.mutateListPostTypes;return Ne(Ne({},e),{},{mutateListPostTypes:o});case"SET_POSTS_MUTATE":var s=t.mutatePosts;return Ne(Ne({},e),{},{mutatePosts:s});case"SET_POSTS_METADATA_MUTATE":var i=t.mutatePostsMetadata;return Ne(Ne({},e),{},{mutatePostsMetadata:i});case"SET_USERS_MUTATE":var c=t.mutateUsers;return Ne(Ne({},e),{},{mutateUsers:c});case"SET_COMMENTS_MUTATE":var u=t.mutateComments;return Ne(Ne({},e),{},{mutateComments:u});case"SET_TRANSIENTS_MUTATE":var l=t.mutateTransients;return Ne(Ne({},e),{},{mutateTransients:l});case"SET_OPTIONS_MUTATE":var m=t.mutateOptions;return Ne(Ne({},e),{},{mutateOptions:m});case"SET_CRON_JOBS_MUTATE":var p=t.mutateCronJobs;return Ne(Ne({},e),{},{mutateCronJobs:p});case"SET_PLUGINS_MUTATE":var f=t.mutatePlugins;return Ne(Ne({},e),{},{mutatePlugins:f});case"SET_SHOULD_FETCH_OPTIONS":return Ne(Ne({},e),{},{shouldFetchOptions:!0});case"SET_SHOULD_FETCH_CRON_JOBS_OPTIONS":return Ne(Ne({},e),{},{shouldFetchCronJobs:!0});case"OPTIONS_FILTERS_UPDATED":var d=t.optionsFilters;return Ne(Ne({},e),{},{optionsFilters:d});case"OPTIONS_TOTAL_UPDATED":var y=t.options,b=t.search,h={};return mt.forEach((function(e){var t=gt(y,e.value,mt,!1,b),n=gt(y,e.value,mt,!0,b);h[e.value]={false:t.length,true:n.length}})),Ne(Ne({},e),{},{optionsTotal:h});case"CRON_JOBS_FILTERS_UPDATED":var g=t.cronJobsFilters;return Ne(Ne({},e),{},{cronJobsFilters:g});case"CRON_JOBS_TOTAL_UPDATED":var v=t.cronJobs,E=t.search,R={};return pt.forEach((function(e){var t=gt(v,e.value,pt,!1,E),n=gt(v,e.value,pt,!0,E);R[e.value]={false:t.length,true:n.length}})),Ne(Ne({},e),{},{cronJobsTotal:R});case"TABLES_TOTAL_UPDATED":var _=t.dbSizes,O=t.search,T={};return ft.forEach((function(e){var t=gt(_,e.value,ft,!1,O),n=gt(_,e.value,ft,!0,O);T[e.value]={false:t.length,true:n.length}})),Ne(Ne({},e),{},{tablesTotal:T});case"TABLES_FILTERS_UPDATED":var w=t.tablesFilters;return Ne(Ne({},e),{},{tablesFilters:w});case"LIST_POST_TYPES_FILTERS_UPDATED":var S=t.listPostTypesFilters;return Ne(Ne({},e),{},{listPostTypesFilters:S});case"LIST_POST_TYPES_TOTAL_UPDATED":var P=t.listPostTypes,A=t.search,C={};return dt.forEach((function(e){var t=gt(P,e.value,dt,!1,A),n=gt(P,e.value,dt,!0,A);C[e.value]={false:t.length,true:n.length}})),Ne(Ne({},e),{},{listPostTypesTotal:C});case"TOGGLE_MODAL":var k=t.modal,U=t.enable,x=t.onNext;if(void 0===e.modals[k])return alert("The modal ".concat(k," doesn't exist.")),console.error("The modal ".concat(k," doesn't exist.")),e;void 0===U&&(U=!e.modals[k].enable);var B=Ne({},e);return B.modals=Ne({},B.modals),B.modals[k]={enable:U,onNext:x},B;case"PUSH_BUSY":var D=t.status,j=void 0===D?"":D;return Ne(Ne({},e),{},{busy:++Ot>0,status:j});case"POP_BUSY":var I=t.status,N=void 0===I?"":I;return Ne(Ne({},e),{},{busy:--Ot>0,status:N});case"PUSH_BUSY_OPTIONS":return Ne(Ne({},e),{},{busyOptions:++St>0});case"POP_BUSY_OPTIONS":return Ne(Ne({},e),{},{busyOptions:--St>0});case"PUSH_BUSY_CRON_JOBS":return Ne(Ne({},e),{},{busyCronJobs:++Pt>0});case"POP_BUSY_CRON_JOBS":return Ne(Ne({},e),{},{busyCronJobs:--Pt>0});case"PUSH_BUSY_BULK_TASKS":return Ne(Ne({},e),{},{busyBulkTasks:++Tt>0});case"POP_BUSY_BULK_TASKS":return Ne(Ne({},e),{},{busyBulkTasks:--Tt>0});case"RESET_BUSY_BULK_TASKS":return Ne(Ne({},e),{},{busyBulkTasks:0});case"PUSH_BUSY_CLEAN_BULK_TASKS":return Ne(Ne({},e),{},{busyCleanBulkTasks:++wt>0});case"POP_BUSY_CLEAN_BULK_TASKS":return Ne(Ne({},e),{},{busyCleanBulkTasks:--wt>0});case"STATUS_UPDATED":var L=t.status,F=void 0===L?"":L;return Ne(Ne({},e),{},{status:F});case"SETTINGS_UPDATED":var M=t.settings,z=M.dbclnr_aga_threshold,W=M.dbclnr_custom_queries,J=M.dbclnr_bulk_batch_size,Y=Number(M.dbclnr_options_limit),K=Number(M.dbclnr_cron_jobs_limit),H=Number(M.dbclnr_db_sizes_limit),V=Number(M.dbclnr_list_post_types_limit),q=M.dbclnr_post_type_usedby,G=M.dbclnr_option_usedby,Q=M.dbclnr_table_usedby,$=M.dbclnr_cron_job_usedby,X=M.dbclnr_db_sizes,Z=X?X[X.length-1]:null,ee=null;(null==X?void 0:X.length)>1?ee=X[X.length-2]:(null==X?void 0:X.length)>0&&(ee=X[X.length-1]);var te=Ne(Ne({},e.optionsFilters),{},{limit:Y}),ne=Ne(Ne({},e.cronJobsFilters),{},{limit:K}),re=Ne(Ne({},e.tablesFilters),{},{limit:H}),ae=Ne(Ne({},e.listPostTypesFilters),{},{limit:V});return Ne(Ne({},e),{},{optionsFilters:te,cronJobsFilters:ne,tablesFilters:re,listPostTypesFilters:ae,agaThreshold:z,customQueries:W,bulkBatchSize:J,totalSize:Z,previousTotalSize:ee,postTypesUsedBy:q,optionsUsedBy:G,tablesUsedBy:Q,cronJobsUsedBy:$});case"DB_SIZES_UPDATED":var oe=t.dbSizes;return Ne(Ne({},e),{},{dbSizes:oe});case"LIST_POST_TYPES_UPDATED":var se=t.listPostTypes;return Ne(Ne({},e),{},{listPostTypes:se});case"LIST_POST_TYPES_COUNT_UPDATED":var ie=t.listPostTypesCount;return Ne(Ne({},e),{},{listPostTypesCount:ie});case"POSTS_UPDATED":var ce=t.posts;return Ne(Ne({},e),{},{posts:ce});case"POSTS_COUNT_UPDATED":var ue=t.postsCount;return Ne(Ne({},e),{},{postsCount:ue});case"POSTS_METADATA_UPDATED":var le=t.postsMetadata;return Ne(Ne({},e),{},{postsMetadata:le});case"POSTS_METADATA_COUNT_UPDATED":var me=t.postsMetadataCount;return Ne(Ne({},e),{},{postsMetadataCount:me});case"USERS_UPDATED":var pe=t.users;return Ne(Ne({},e),{},{users:pe});case"USERS_COUNT_UPDATED":var fe=t.usersCount;return Ne(Ne({},e),{},{usersCount:fe});case"COMMENTS_UPDATED":var de=t.comments;return Ne(Ne({},e),{},{comments:de});case"COMMENTS_COUNT_UPDATED":var ye=t.commentsCount;return Ne(Ne({},e),{},{commentsCount:ye});case"TRANSIENTS_UPDATED":var be=t.transients;return Ne(Ne({},e),{},{transients:be});case"TRANSIENTS_COUNT_UPDATED":var he=t.transientsCount;return Ne(Ne({},e),{},{transientsCount:he});case"OPTIONS_UPDATED":var ge=t.options;return Ne(Ne({},e),{},{options:ge});case"FILTERED_OPTIONS_UPDATED":var ve=t.options,Ee=t.filterBy,Re=t.limit,_e=t.page,Oe=t.hideUsedByWordPress,Te=t.search,we=t.accessor,Se=t.sort,Pe=["cron"],Ae=ht(ve,we,Se).filter((function(e){return!Pe.includes(e.option_name)})),Ce=Ue(gt(Ae,Ee,mt,Oe,Te),_e,Re);return Ne(Ne({},e),{},{filteredOptions:Ce});case"FILTERED_CRON_JOBS_UPDATED":var ke=t.cronJobs,xe=t.filterBy,Be=t.limit,De=t.page,je=t.hideUsedByWordPress,Ie=t.search,Le=t.accessor,Fe=t.sort,Me=ht(ke,Le,Fe),ze=Ue(gt(Me,xe,pt,je,Ie),De,Be);return Ne(Ne({},e),{},{filteredCronJobs:ze});case"FILTERED_POST_TYPES_UPDATED":var We=t.listPostTypes,Je=t.filterBy,Ye=t.limit,Ke=t.page,He=t.hideUsedByWordPress,Ve=t.search,qe=t.accessor,Ge=t.sort,Qe=ht(We,qe,Ge),$e=Ue(gt(Qe,Je,dt,He,Ve),Ke,Ye);return Ne(Ne({},e),{},{filteredListPostTypes:$e});case"FILTERED_TABLES_UPDATED":var Xe=t.dbSizes,Ze=t.filterBy,et=t.limit,tt=t.page,nt=t.hideUsedByWordPress,rt=t.search,at=t.accessor,ot=t.sort,st=ht(Xe,at,ot),it=Ue(gt(st,Ze,ft,nt,rt),tt,et);return Ne(Ne({},e),{},{filteredTables:it});case"CUSTOM_QUERIES_COUNT_UPDATED":var ct=t.customQueriesCount;return Ne(Ne({},e),{},{customQueriesCount:ct});case"EDIT_CUSTOM_QUERIES_UPDATED":var ut=t.editCustomQueries;return Ne(Ne({},e),{},{editCustomQueries:ut});case"CLICKED_TAB_UPDATED":var lt=t.clickedTab;return Ne(Ne({},e),{},{clickedTab:lt});case"FILE_CONTENT_UPDATED":var yt=t.fileContent;return Ne(Ne({},e),{},{fileContent:yt});case Ct:var bt=t.busyAction;return Ne(Ne({},e),{},{busyAction:bt});case"ENTRIES_UPDATED":var vt=t.entries;return Ne(Ne({},e),{},{entries:vt});case"CRON_JOBS_UPDATED":var Et=t.cronJobs;return Ne(Ne({},e),{},{cronJobs:Et});case"INITIALIZED_UPDATED":var Rt=t.tab,_t=t.value,At=Ne({},e.initialized);return At[Rt]=_t,Ne(Ne({},e),{},{initialized:At});case"PLUGINS_UPDATED":var kt=t.plugins;return Ne(Ne({},e),{},{plugins:kt});case"SELECTED_USEDBY_UPDATED":var Ut=t.selectedUsedBy;return Ne(Ne({},e),{},{selectedUsedBy:Ut});default:return e}},Ut=Object(me.createContext)(),xt=function(e){var t=e.children,n=je(Object(me.useReducer)(kt,At),2),o=n[0],s=n[1],i=Object(me.useMemo)((function(){return["".concat(u,"/all_settings/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),c=Object(r.b)(i,a.I),l=c.data,m=c.mutate,p=Object(a.K)(l,{},!0),d=p.busy,y=p.data,b=p.error;Object(me.useEffect)((function(){s({type:"SET_SETTINGS_MUTATE",mutateSettings:m})}),[m]),Object(me.useEffect)((function(){s({type:d?"PUSH_BUSY":"POP_BUSY"})}),[d]),Object(me.useEffect)((function(){s({type:"SETTINGS_UPDATED",settings:y})}),[y]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:b})}),[b]);var h=o.tablesFilters,g=Object(me.useMemo)((function(){return["".concat(u,"/db_sizes/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),v=Object(r.b)(g,a.I),E=v.data,R=v.mutate,_=Object(a.K)(E,[],!0),O=_.busy,T=_.data,w=_.error;Object(me.useEffect)((function(){s({type:"SET_DB_SIZES_MUTATE",mutateDbSizes:R})}),[R]),Object(me.useEffect)((function(){s({type:O?"PUSH_BUSY":"POP_BUSY"})}),[O]),Object(me.useEffect)((function(){s({type:"DB_SIZES_UPDATED",dbSizes:T})}),[T]),Object(me.useEffect)((function(){s({type:"TABLES_TOTAL_UPDATED",dbSizes:T,search:h.search})}),[T,h.search]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:w})}),[w]),Object(me.useEffect)((function(){s({type:"FILTERED_TABLES_UPDATED",dbSizes:T,filterBy:h.filterBy,limit:h.limit,page:h.page,hideUsedByWordPress:h.hideUsedByWordPress,search:h.search,accessor:h.accessor,sort:h.sort})}),[T,h.filterBy,h.page,h.limit,h.hideUsedByWordPress,h.search,h.accessor,h.sort]);var S=o.listPostTypesFilters,P=Object(me.useMemo)((function(){return["".concat(u,"/list_post_types/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),A=Object(r.b)(P,a.I),C=A.data,k=A.mutate,U=Object(a.K)(C,[],!0),x=U.busy,B=U.data,D=U.error;Object(me.useEffect)((function(){s({type:"SET_LIST_POST_TYPES_MUTATE",mutateListPostTypes:k})}),[k]),Object(me.useEffect)((function(){s({type:x?"PUSH_BUSY":"POP_BUSY"})}),[x]),Object(me.useEffect)((function(){s({type:"LIST_POST_TYPES_UPDATED",listPostTypes:B})}),[B]),Object(me.useEffect)((function(){s({type:"LIST_POST_TYPES_TOTAL_UPDATED",listPostTypes:B,search:S.search})}),[B,S.search]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:D})}),[D]),Object(me.useEffect)((function(){s({type:"FILTERED_POST_TYPES_UPDATED",listPostTypes:B,filterBy:S.filterBy,limit:S.limit,page:S.page,hideUsedByWordPress:S.hideUsedByWordPress,search:S.search,accessor:S.accessor,sort:S.sort})}),[B,S.filterBy,S.page,S.limit,S.hideUsedByWordPress,S.search,S.accessor,S.sort]);var j=Object(me.useMemo)((function(){return["".concat(u,"/posts/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),I=Object(r.b)(j,a.I),N=I.data,L=I.mutate,F=Object(a.K)(N,[],!0),M=F.data,z=F.error;Object(me.useEffect)((function(){s({type:"SET_POSTS_MUTATE",mutatePosts:L})}),[L]),Object(me.useEffect)((function(){s({type:"POSTS_UPDATED",posts:M})}),[M]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:z})}),[z]);var W=Object(me.useMemo)((function(){return["".concat(u,"/posts_metadata/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),J=Object(r.b)(W,a.I),Y=J.data,K=J.mutate,H=Object(a.K)(Y,[],!0),V=H.data,q=H.error;Object(me.useEffect)((function(){s({type:"SET_POSTS_METADATA_MUTATE",mutatePostsMetadata:K})}),[K]),Object(me.useEffect)((function(){s({type:"POSTS_METADATA_UPDATED",postsMetadata:V})}),[V]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:q})}),[q]);var G=Object(me.useMemo)((function(){return["".concat(u,"/users/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),Q=Object(r.b)(G,a.I),$=Q.data,X=Q.mutate,Z=Object(a.K)($,[],!0),ee=Z.data,te=Z.error;Object(me.useEffect)((function(){s({type:"SET_USERS_MUTATE",mutateUsers:X})}),[X]),Object(me.useEffect)((function(){s({type:"USERS_UPDATED",users:ee})}),[ee]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:te})}),[te]);var ne=Object(me.useMemo)((function(){return["".concat(u,"/comments/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),re=Object(r.b)(ne,a.I),ae=re.data,oe=re.mutate,se=Object(a.K)(ae,[],!0),ie=se.data,ce=se.error;Object(me.useEffect)((function(){s({type:"SET_COMMENTS_MUTATE",mutateComments:oe})}),[oe]),Object(me.useEffect)((function(){s({type:"COMMENTS_UPDATED",comments:ie})}),[ie]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:ce})}),[ce]);var ue=Object(me.useMemo)((function(){return["".concat(u,"/transients/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),le=Object(r.b)(ue,a.I),pe=le.data,fe=le.mutate,de=Object(a.K)(pe,[],!0),ye=de.data,be=de.error;Object(me.useEffect)((function(){s({type:"SET_TRANSIENTS_MUTATE",mutateTransients:fe})}),[fe]),Object(me.useEffect)((function(){s({type:"TRANSIENTS_UPDATED",transients:ye})}),[ye]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:be})}),[be]);var he=o.optionsFilters,ge=Object(me.useMemo)((function(){return o.shouldFetchOptions?["".concat(u,"/options/"),{headers:{"X-WP-Nonce":f}}]:null}),[u,f,o.shouldFetchOptions]),ve=Object(r.b)(ge,a.I),Ee=ve.data,Re=ve.mutate,_e=Object(a.K)(Ee,[],!0),Oe=_e.busy,Te=_e.data,we=_e.error;Object(me.useEffect)((function(){s({type:"SET_OPTIONS_MUTATE",mutateOptions:Re})}),[Re]),Object(me.useEffect)((function(){s({type:Oe?"PUSH_BUSY_OPTIONS":"POP_BUSY_OPTIONS"})}),[Oe]),Object(me.useEffect)((function(){s({type:"OPTIONS_UPDATED",options:Te})}),[Te]),Object(me.useEffect)((function(){s({type:"OPTIONS_TOTAL_UPDATED",options:Te,search:he.search})}),[Te,he.search]),Object(me.useEffect)((function(){s({type:"FILTERED_OPTIONS_UPDATED",options:Te,filterBy:he.filterBy,limit:he.limit,page:he.page,hideUsedByWordPress:he.hideUsedByWordPress,search:he.search,accessor:he.accessor,sort:he.sort})}),[Te,he.filterBy,he.page,he.limit,he.hideUsedByWordPress,he.search,he.accessor,he.sort]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:we})}),[we]);var Se=o.cronJobsFilters,Pe=Object(me.useMemo)((function(){return o.shouldFetchCronJobs?["".concat(u,"/cron_jobs/"),{headers:{"X-WP-Nonce":f}}]:null}),[u,f,o.shouldFetchCronJobs]),Ae=Object(r.b)(Pe,a.I),Ce=Ae.data,ke=Ae.mutate,Ue=Object(a.K)(Ce,[],!0),xe=Ue.busy,Be=Ue.data,De=(Ue.total,Ue.error);Object(me.useEffect)((function(){s({type:"SET_CRON_JOBS_MUTATE",mutateCronJobs:ke})}),[ke]),Object(me.useEffect)((function(){s({type:xe?"PUSH_BUSY_CRON_JOBS":"POP_BUSY_CRON_JOBS"})}),[xe]),Object(me.useEffect)((function(){s({type:"CRON_JOBS_UPDATED",cronJobs:Be})}),[Be]),Object(me.useEffect)((function(){s({type:"CRON_JOBS_TOTAL_UPDATED",cronJobs:Be,search:Se.search})}),[Be,Se.search]),Object(me.useEffect)((function(){s({type:"FILTERED_CRON_JOBS_UPDATED",cronJobs:Be,filterBy:Se.filterBy,limit:Se.limit,page:Se.page,hideUsedByWordPress:Se.hideUsedByWordPress,search:Se.search,accessor:Se.accessor,sort:Se.sort})}),[Be,Se.filterBy,Se.page,Se.limit,Se.hideUsedByWordPress,Se.search,Se.accessor,Se.sort]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:De})}),[De]);var Ie=Object(me.useMemo)((function(){return["".concat(u,"/plugins/"),{headers:{"X-WP-Nonce":f}}]}),[u,f]),Ne=Object(r.b)(Ie,a.I),Le=Ne.data,Fe=Ne.mutate,Me=Object(a.K)(Le,[],!0),ze=Me.busy,We=Me.data,Je=Me.error;return Object(me.useEffect)((function(){s({type:"SET_PLUGINS_MUTATE",mutatePlugins:Fe})}),[Fe]),Object(me.useEffect)((function(){s({type:ze?"PUSH_BUSY":"POP_BUSY"})}),[ze]),Object(me.useEffect)((function(){s({type:"PLUGINS_UPDATED",plugins:We})}),[We]),Object(me.useEffect)((function(){s({type:"ERROR_UPDATED",apiError:Je})}),[Je]),React.createElement(Ut.Provider,{value:[o,s]},t)},Bt=function(){var e={},t=je(Object(me.useContext)(Ut),2),n=t[0],r=t[1];return e.updateOption=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=t.param,i=t.onSuccess,r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:o}])}),e.prev=2,e.next=5,Object(a.J)("".concat(u,"/update_option"),{json:s,nonce:f});case 5:e.sent.success&&i&&i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 12:r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==o}))});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),e.resetOptions=Me(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"PUSH_BUSY"}),t.prev=1,t.next=4,Object(a.J)("".concat(u,"/reset_options"),{nonce:f});case 4:return t.next=6,e.mutateResetAll();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.message&&alert(t.t0.message);case 11:r({type:"POP_BUSY"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.mutateResetAll=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.mutateSettings();case 2:return e.next=4,n.mutateDbSizes();case 4:return e.next=6,n.mutatePosts();case 6:return e.next=8,n.mutatePostsMetadata();case 8:return e.next=10,n.mutateUsers();case 10:return e.next=12,n.mutateComments();case 12:return e.next=14,n.mutateListPostTypes();case 14:return e.next=16,n.mutateTransients();case 16:return e.next=18,n.mutateOptions();case 18:r({type:"LIST_POST_TYPES_COUNT_UPDATED",listPostTypesCount:[]}),r({type:"POSTS_COUNT_UPDATED",postsCount:[]}),r({type:"POSTS_METADATA_COUNT_UPDATED",postsCount:[]}),r({type:"USERS_COUNT_UPDATED",usersCount:[]}),r({type:"COMMENTS_COUNT_UPDATED",commentsCount:[]}),r({type:"TRANSIENTS_COUNT_UPDATED",transientsCount:[]}),r({type:"CLICKED_TAB_UPDATED",clickedTab:_t});case 25:case"end":return e.stop()}}),e)}))),e.deleteEntries=function(){var e=Me(regeneratorRuntime.mark((function e(t){var n,r,o,s,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.isAutoClean,o=void 0!==r&&r,s=t.onSuccess,i=t.signal,e.prev=1,e.next=4,Object(a.J)("".concat(u,"/delete_entries"),{json:{item:n,is_auto_clean:o},signal:i,nonce:f});case 4:return(c=e.sent).success&&s&&s(),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),e.getEntries=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=new AbortController,i=s.signal,c=Object(a.F)("".concat(u,"/entries/"),{item:o}),r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:"loading_".concat(o)}])}),e.prev=5,e.next=8,Object(a.H)(c,null,i,f);case 8:if((l=e.sent).success){e.next=12;break}return l.message&&alert(l.message),e.abrupt("return");case 12:r({type:"ENTRIES_UPDATED",entries:l.data}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!=="loading_".concat(o)}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),e.getOptionValue=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.optionName,s=new AbortController,i=s.signal,c=Object(a.F)("".concat(u,"/option_value/"),{option_name:o}),r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:"loading_".concat(o)}])}),e.prev=5,e.next=8,Object(a.H)(c,null,i,f);case 8:if((l=e.sent).success){e.next=12;break}return l.message&&alert(l.message),e.abrupt("return");case 12:r({type:"ENTRIES_UPDATED",entries:l.data}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!=="loading_".concat(o)}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),e.customQueryDelete=function(){var e=Me(regeneratorRuntime.mark((function e(t){var n,r,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.onSuccess,o=t.signal,e.prev=1,e.next=4,Object(a.J)("".concat(u,"/custom_query_delete"),{json:{item:n},signal:o,nonce:f});case 4:return!(s=e.sent).success&&s.message?alert("Error: ".concat(s.message)):r&&r(n,s),e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),e.refreshCostomQueryCount=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=t.onSuccess,i=new AbortController,c=i.signal,l=Object(a.F)("".concat(u,"/custom_query_count/"),{item:o}),r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:tt(o)}])}),e.prev=5,e.next=8,Object(a.H)(l,null,c,f);case 8:if((m=e.sent).success){e.next=12;break}return m.message&&alert(m.message),e.abrupt("return");case 12:s&&s(o,m),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==tt(o)}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),e.allRefreshCostomQueryCount=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l,m,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=t.onSuccess,i=t.counts,c=new AbortController,l=c.signal,m=Object(a.F)("".concat(u,"/custom_query_count/"),{item:o}),p=ze(i),r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:tt(o)}])}),e.prev=6,e.next=9,Object(a.H)(m,null,l,f);case 9:if((d=e.sent).success){e.next=13;break}return d.message&&alert(d.message),e.abrupt("return");case 13:p=[].concat(ze(i.filter((function(e){return e.item!==o}))),[{item:o,count:d.data}]),s(p),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),e.t0.message&&alert(e.t0.message);case 20:return e.prev=20,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==tt(o)}))}),e.finish(20);case 23:return e.abrupt("return",p);case 24:case"end":return e.stop()}}),e,null,[[6,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),e.loadEntryCount=function(){var e=Me(regeneratorRuntime.mark((function e(t){var n,r,o,s,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.onSuccess,o=new AbortController,s=o.signal,i=Object(a.F)("".concat(u,"/entry_count/"),{item:n}),e.prev=4,e.next=7,Object(a.H)(i,null,s,f);case 7:if((c=e.sent).success){e.next=11;break}return c.message&&alert(c.message),e.abrupt("return");case 11:return r&&r(n,c),e.abrupt("return",c.data);case 15:e.prev=15,e.t0=e.catch(4),e.t0.message&&alert(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),e.refreshEntryCount=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=t.onSuccess,i=new AbortController,c=i.signal,l=Object(a.F)("".concat(u,"/entry_count/"),{item:o}),r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:tt(o)}])}),e.prev=5,e.next=8,Object(a.H)(l,null,c,f);case 8:if((m=e.sent).success){e.next=12;break}return m.message&&alert(m.message),e.abrupt("return");case 12:s&&s(o,m),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==tt(o)}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),e.allRefreshEntryCount=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l,m,p,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=t.onSuccess,i=t.counts,c=new AbortController,l=c.signal,m=Object(a.F)("".concat(u,"/entry_count/"),{item:o}),p=ze(i),r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:tt(o)}])}),e.prev=6,e.next=9,Object(a.H)(m,null,l,f);case 9:if((d=e.sent).success){e.next=13;break}return d.message&&alert(d.message),e.abrupt("return");case 13:p=[].concat(ze(i.filter((function(e){return e.item!==o}))),[{item:o,count:d.data}]),s(p),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),e.t0.message&&alert(e.t0.message);case 20:return e.prev=20,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==tt(o)}))}),e.abrupt("return",p);case 24:case"end":return e.stop()}}),e,null,[[6,17,20,24]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteOption=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:o}])}),e.prev=2,e.next=5,Object(a.J)("".concat(u,"/delete_options"),{json:{item:o},nonce:f});case 5:if((s=e.sent).success){e.next=9;break}return s.message&&alert(s.message),e.abrupt("return");case 9:return e.next=11,Pe(250);case 11:n.mutateOptions(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteOptions=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.items,s=o.map((function(e){return{item:e}})),i=ze(n.busyAction),r({type:Ct,busyAction:[].concat(ze(n.busyAction),ze(s))}),c=[],e.prev=5,e.next=8,Object(a.J)("".concat(u,"/delete_options"),{json:{items:o},nonce:f});case 8:return(l=e.sent).success||(l.message&&alert(l.message),c=l.data?ze(l.data):[]),e.next=12,Pe(250);case 12:n.mutateOptions(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:Ct,busyAction:ze(i)}),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.switchAutoloadedOption=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,s=t.autoload,r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:o}])}),e.prev=2,e.next=5,Object(a.J)("".concat(u,"/switch_autoloaded_option"),{json:{item:o,autoload:s},nonce:f});case 5:if(e.sent.success){e.next=8;break}return e.abrupt("return");case 8:n.mutateOptions(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 14:return e.prev=14,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteCron=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.item,r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:o.name}])}),e.prev=2,e.next=5,Object(a.J)("".concat(u,"/delete_crons"),{json:{item:o},nonce:f});case 5:if((s=e.sent).success){e.next=9;break}return s.message&&alert(s.message),e.abrupt("return");case 9:return e.next=11,Pe(250);case 11:n.mutateCronJobs(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 17:return e.prev=17,r({type:Ct,busyAction:n.busyAction.filter((function(e){return e.item!==o}))}),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),e.deleteCrons=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.items,s=o.map((function(e){return{item:e}})),i=ze(n.busyAction),r({type:Ct,busyAction:[].concat(ze(n.busyAction),ze(s))}),c=[],e.prev=5,e.next=8,Object(a.J)("".concat(u,"/delete_crons"),{json:{items:o},nonce:f});case 8:return(l=e.sent).success||(l.message&&alert(l.message),c=ze(l.data)),e.next=12,Pe(250);case 12:n.mutateCronJobs(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:Ct,busyAction:ze(i)}),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.updateClickedTabByIndex=function(e){var t=Ne({},n.clickedTab),a=e.replace(/\s+/g,""),o=n.clickedTab[Rt[a]]+1;t[Rt[a]]=o>1?2:o,r({type:"CLICKED_TAB_UPDATED",clickedTab:t})},e.updateClickedTabByTitle=function(e){var t=Ne({},n.clickedTab);t[e.replace(/\s+/g,"")]=1,r({type:"CLICKED_TAB_UPDATED",clickedTab:t})},e.logDbSize=Me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.J)("".concat(u,"/log_db_size"),{nonce:f});case 2:case"end":return e.stop()}}),e)}))),e.refreshLogs=Me(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"PUSH_BUSY"}),e.next=3,Object(a.J)("".concat(u,"/refresh_logs"),{nonce:f});case 3:(t=e.sent).success&&r({type:"FILE_CONTENT_UPDATED",fileContent:t.data}),r({type:"POP_BUSY"});case 6:case"end":return e.stop()}}),e)}))),e.clearLogs=Me(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"PUSH_BUSY"}),e.next=3,Object(a.J)("".concat(u,"/clear_logs"),{nonce:f});case 3:(t=e.sent).success&&r({type:"FILE_CONTENT_UPDATED",fileContent:t.data}),r({type:"POP_BUSY"});case 6:case"end":return e.stop()}}),e)}))),e.deleteTables=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.tables,s=o.map((function(e){return{item:"delete_".concat(e)}})),i=ze(n.busyAction),r({type:Ct,busyAction:[].concat(ze(n.busyAction),ze(s))}),c=[],e.prev=5,e.next=8,Object(a.J)("".concat(u,"/delete_tables"),{json:{tables:o},nonce:f});case 8:return(l=e.sent).success||(l.message&&alert(l.message),c=l.data?ze(l.data):[]),e.next=12,Pe(250);case 12:n.mutateDbSizes(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 18:return r({type:Ct,busyAction:ze(i)}),e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),e.optimizeTables=function(){var e=Me(regeneratorRuntime.mark((function e(t){var o,s,i,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.tables,s=o.map((function(e){return{item:"optimize_".concat(e)}})),i=ze(n.busyAction),r({type:Ct,busyAction:[].concat(ze(n.busyAction),ze(s))}),c=[],e.prev=5,e.next=8,Object(a.J)("".concat(u,"/optimize_tables"),{json:{tables:o},nonce:f});case 8:(l=e.sent).success||(l.message&&alert(l.message),c=l.data?ze(l.data):[]),n.mutateDbSizes(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0.message&&alert(e.t0.message);case 16:return r({type:Ct,busyAction:ze(i)}),e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),e.getTotalDbSizes=Me(regeneratorRuntime.mark((function e(){var t,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,o=t.signal,r({type:Ct,busyAction:[].concat(ze(n.busyAction),[{item:"totalDbSize"}])}),e.prev=3,e.next=6,Object(a.H)("".concat(u,"/total_db_size/"),null,o,f);case 6:if((s=e.sent).success){e.next=10;break}return s.message&&alert(s.message),e.abrupt("return");case 10:return e.next=12,Pe(250);case 12:n.mutateSettings(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),e.t0.message&&alert(e.t0.message);case 18:return e.prev=18,r({type:Ct,busyAction:n.busyAction.filter((function(e){return"totalDbSize"!==e.item}))}),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))),e.getAutoCleanItems=Me(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,n=t.signal,e.prev=2,e.next=5,Object(a.H)("".concat(u,"/auto_clean_items/"),null,n,f);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),e.resetAutoCleanItemsCount=function(e){var t=function(e,t){return e.map((function(e){return Ne(Ne({},e),{},{count:t.includes(e.item)?0:e.count})}))},a=e.filter((function(e){return e.item.includes("posts_")&&!e.item.includes("posts_metadata_")})).map((function(e){return e.item})),o=t(n.postsCount,a);r({type:"POSTS_COUNT_UPDATED",postsCount:o});var s=e.filter((function(e){return e.item.includes("posts_metadata_")})).map((function(e){return e.item})),i=t(n.postsMetadataCount,s);r({type:"POSTS_METADATA_COUNT_UPDATED",postsMetadataCount:i});var c=e.filter((function(e){return e.item.includes("users_")})).map((function(e){return e.item})),u=t(n.usersCount,c);r({type:"USERS_COUNT_UPDATED",usersCount:u});var l=e.filter((function(e){return e.item.includes("comments_")})).map((function(e){return e.item})),m=t(n.commentsCount,l);r({type:"COMMENTS_COUNT_UPDATED",commentsCount:m});var p=e.filter((function(e){return e.item.includes("options_")})).map((function(e){return e.item})),f=t(n.transientsCount,p);r({type:"TRANSIENTS_COUNT_UPDATED",transientsCount:f});var d=e.filter((function(e){return e.item.includes("list_post_types_")})).map((function(e){return e.item})),y=t(n.listPostTypesCount,d);r({type:"LIST_POST_TYPES_COUNT_UPDATED",listPostTypesCount:y})},e.setListPostTypesCount=function(e){r({type:"LIST_POST_TYPES_COUNT_UPDATED",listPostTypesCount:e})},e.setPostsCount=function(e){r({type:"POSTS_COUNT_UPDATED",postsCount:e})},e.setPostsMetadataCount=function(e){r({type:"POSTS_METADATA_COUNT_UPDATED",postsMetadataCount:e})},e.setUsersCount=function(e){r({type:"USERS_COUNT_UPDATED",usersCount:e})},e.setCommentsCount=function(e){r({type:"COMMENTS_COUNT_UPDATED",commentsCount:e})},e.setTransientsCount=function(e){r({type:"TRANSIENTS_COUNT_UPDATED",transientsCount:e})},e.setCustomQueriesCount=function(e){r({type:"CUSTOM_QUERIES_COUNT_UPDATED",customQueriesCount:e})},e.setEditCustomQueries=function(e){r({type:"EDIT_CUSTOM_QUERIES_UPDATED",editCustomQueries:e})},e.setBusyAction=function(e){r({type:Ct,busyAction:e})},e.setShouldFetchOptions=function(){r({type:"SET_SHOULD_FETCH_OPTIONS"})},e.setEntries=function(e){r({type:"ENTRIES_UPDATED",entries:e})},e.setShouldFetchCronJobs=function(){r({type:"SET_SHOULD_FETCH_CRON_JOBS_OPTIONS"})},e.setInitialized=function(e,t){r({type:"INITIALIZED_UPDATED",tab:e,value:t})},e.setSelectedUsedBy=function(e){r({type:"SELECTED_USEDBY_UPDATED",selectedUsedBy:e})},e.updateOptionsFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,s=e.hideUsedByWordPress,i=e.search,c=e.accessor,u=e.sort,l=null!=t?t:n.optionsFilters.limit,m=null!=a?a:n.optionsFilters.page,p=null!=o?o:n.optionsFilters.filterBy,f=null!=s?s:n.optionsFilters.hideUsedByWordPress,d=null!=i?i:n.optionsFilters.search,y=null!=c?c:n.optionsFilters.accessor,b=null!=u?u:n.optionsFilters.sort;r({type:"OPTIONS_FILTERS_UPDATED",optionsFilters:Ne(Ne({},n.optionsFilters),{},{limit:l,page:m,filterBy:p,hideUsedByWordPress:f,search:d,accessor:y,sort:b})})},e.updateCronJobsFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,s=e.hideUsedByWordPress,i=e.search,c=e.accessor,u=e.sort,l=null!=t?t:n.cronJobsFilters.limit,m=null!=a?a:n.cronJobsFilters.page,p=null!=o?o:n.cronJobsFilters.filterBy,f=null!=s?s:n.cronJobsFilters.hideUsedByWordPress,d=null!=i?i:n.cronJobsFilters.search,y=null!=c?c:n.cronJobsFilters.accessor,b=null!=u?u:n.cronJobsFilters.sort;r({type:"CRON_JOBS_FILTERS_UPDATED",cronJobsFilters:Ne(Ne({},n.cronJobsFilters),{},{limit:l,page:m,filterBy:p,hideUsedByWordPress:f,search:d,accessor:y,sort:b})})},e.updateTablesFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,s=e.hideUsedByWordPress,i=e.search,c=e.accessor,u=e.sort,l=null!=t?t:n.tablesFilters.limit,m=null!=a?a:n.tablesFilters.page,p=null!=o?o:n.tablesFilters.filterBy,f=null!=s?s:n.tablesFilters.hideUsedByWordPress,d=null!=i?i:n.tablesFilters.search,y=null!=c?c:n.tablesFilters.accessor,b=null!=u?u:n.tablesFilters.sort;r({type:"TABLES_FILTERS_UPDATED",tablesFilters:Ne(Ne({},n.tablesFilters),{},{limit:l,page:m,filterBy:p,hideUsedByWordPress:f,search:d,accessor:y,sort:b})})},e.updateListPostTypesFilters=function(e){var t=e.limit,a=e.page,o=e.filterBy,s=e.hideUsedByWordPress,i=e.search,c=e.accessor,u=e.sort,l=null!=t?t:n.listPostTypesFilters.limit,m=null!=a?a:n.listPostTypesFilters.page,p=null!=o?o:n.listPostTypesFilters.filterBy,f=null!=s?s:n.listPostTypesFilters.hideUsedByWordPress,d=null!=i?i:n.listPostTypesFilters.search,y=null!=c?c:n.listPostTypesFilters.accessor,b=null!=u?u:n.listPostTypesFilters.sort;r({type:"LIST_POST_TYPES_FILTERS_UPDATED",listPostTypesFilters:Ne(Ne({},n.listPostTypesFilters),{},{limit:l,filterBy:p,page:m,hideUsedByWordPress:f,search:d,accessor:y,sort:b})})},e.toggleModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};r({type:"TOGGLE_MODAL",modal:e,enable:t,onNext:n})},e.pushBusy=function(){r({type:"PUSH_BUSY"})},e.popBusy=function(){r({type:"POP_BUSY"})},e.pushBusyBulkTasks=function(){r({type:"PUSH_BUSY_BULK_TASKS"})},e.popBusyBulkTasks=function(){r({type:"POP_BUSY_BULK_TASKS"})},e.resetBusyBulkTasks=function(){r({type:"RESET_BUSY_BULK_TASKS"})},e.pushBusyCleanBulkTasks=function(){r({type:"PUSH_BUSY_CLEAN_BULK_TASKS"})},e.popBusyCleanBulkTasks=function(){r({type:"POP_BUSY_CLEAN_BULK_TASKS"})},e.pushBusyOptions=function(){r({type:"PUSH_BUSY_OPTIONS"})},e.popBusyOptions=function(){r({type:"POP_BUSY_OPTIONS"})},e.pushBusyCronJobs=function(){r({type:"PUSH_BUSY_CRON_JOBS"})},e.popBusyCronJobs=function(){r({type:"POP_BUSY_CRON_JOBS"})},Ne(Ne({},n),e)};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){Nt(o,r,a,s,i,"next",e)}function i(e){Nt(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Ft(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||zt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||zt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){if(e){if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt=wp.element,Yt=Jt.useState,Kt=Jt.useMemo,Ht=Jt.useCallback,Vt=Jt.useEffect,qt=function(e){return e.replace(new RegExp("^".concat(s)),"")},Gt=function(){var e=Bt(),t=e.busy,n=(e.dbSizes,e.filteredTables),r=e.tablesTotal,o=e.busyAction,s=e.tablesFilters,i=e.tablesUsedBy,c=e.plugins,u=Bt(),l=u.toggleModal,m=u.deleteTables,p=u.optimizeTables,f=u.mutateDbSizes,d=u.updateOption,y=u.setSelectedUsedBy,b=u.mutateSettings,h=u.updateTablesFilters,g=Mt(Yt([]),2),v=g[0],E=g[1],R=Mt(Yt(!1),2),_=R[0],O=R[1],T=Kt((function(){return o.some((function(e){return"tables"===e.item}))}),[o]),w=Kt((function(){return o.some((function(e){var t;return null===(t=e.item)||void 0===t?void 0:t.includes("delete_")}))}),[o]),S=Kt((function(){return o.some((function(e){var t;return null===(t=e.item)||void 0===t?void 0:t.includes("optimize_")}))}),[o]),P=Kt((function(){return w||S}),[w,S]),A=Kt((function(){return v.some((function(e){return"wordpress"===e.slug}))}),[v]),C=Kt((function(){return v.length===n.length}),[v,n]),k=Kt((function(){return o.some((function(e){return"dbclnr_table_usedby"===e.item}))}),[o]),U=Kt((function(){return n.map((function(e){var t,n,r=qt(e.table),s=v.some((function(e){return e.name===r})),u=o.some((function(e){return e.item==="delete_".concat(r)})),f=o.some((function(e){return e.item==="optimize_".concat(r)})),h="wordpress"===e.info.usedBy.toLowerCase(),g=function(){var e=Lt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({tables:[r]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=s&&(u||f||k),_=ge(e,e.table,(function(t,n){E(t?[].concat(Ft(v),[{name:r,info:e.info}]):Ft(v.filter((function(e){return e.name!==r}))))}),s,e.table,R),O=null!==(t=null==e||null===(n=e.percent)||void 0===n?void 0:n.toLocaleString("en-US",{minimumFractionDigits:2,useGrouping:!1}))&&void 0!==t?t:"0";return{table:_,usedBy:React.createElement(Be,{info:e.info,itemName:r,itemsUsedBy:i,optionName:"dbclnr_table_usedby",plugins:c,setSelectedUsedBy:y,toggleModal:l,updateOption:d,mutateSettings:b,onRefresh:function(){I()}}),size:ke(e.size),percent:"".concat(O," %"),actions:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{title:de.INFO_TABLE_OPTIMIZE,className:"primary",onClick:g,icon:"rocket-launch",style:{minWidth:40,width:40},isBusy:f||u,disabled:f||u}),React.createElement(a.c,{title:de.INFO_TABLE_DROP,className:h?"primary":"danger",onClick:function(){return l("deleteAll",!0,Lt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({tables:[r]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))},icon:"close",style:{minWidth:40,width:40},isBusy:f||u,disabled:h||f}))}}))}),[n,v,o,i,k]),x=Ht((function(){l("deleteAll",!0,Lt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({tables:v.map((function(e){return e.name}))});case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)}))))}),[v]),B=Ht(Lt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({tables:v.map((function(e){return e.name}))});case 2:if(!(t=e.sent).length){e.next=6;break}return E(t),e.abrupt("return");case 6:E([]);case 7:case"end":return e.stop()}}),e)}))),[v]),D=Kt((function(){var e=st.findIndex((function(e){return"table"===e.accessor})),t=st.findIndex((function(e){return"actions"===e.accessor}));if(st[e].title=React.createElement(React.Fragment,null,React.createElement(a.d,{id:"all-tables",checked:C,onChange:function(e){E(e?n.map((function(e){return{name:qt(e.table),info:e.info}})):[])}}),"Table"),st[t].title="",!v.length)return st;var r=React.createElement(React.Fragment,null,React.createElement(a.c,{icon:"rocket-launch",title:de.INFO_TABLE_BULK_OPTIMIZE,style:{minWidth:40,width:40},onClick:B,isBusy:S,disabled:P}),React.createElement(a.c,{icon:"close",title:de.INFO_TABLE_BULK_DROP,style:{minWidth:40,width:40},className:A?"primary":"danger",onClick:x,isBusy:w,disabled:A||P}));return st[t].title=r,st}),[st,C,n,v,x,B,w,A,P,S]),j=Ht(function(){var e=Lt(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({item:n,param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[d]),I=Ht(Lt(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],O(!0),e.next=4,f();case 4:t&&E([]),O(!1);case 6:case"end":return e.stop()}}),e)}))),[f]),N=Kt((function(){return ve("dbclnr_db_sizes_limit",s.limit,(function(e,t){E([]),h({limit:e,page:1}),j(e,t)}))}),[s.limit,h,j]),L=Kt((function(){var e=s.page,t=s.limit,n=s.filterBy,o=s.hideUsedByWordPress,i=r[n][o];return React.createElement(a.r,{currentPage:e,limit:t,total:i,onClick:function(e){E([]),h({page:e})}})}),[s.page,s.limit,r,h]),F=Kt((function(){return{by:s.sort,accessor:s.accessor}}),[s.accessor,s.sort]);return Vt((function(){E([])}),[F]),console.log({filters:ft}),React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:t||T,title:"Tables",className:"primary",action:React.createElement(xe,{itemsUsedBy:i,selectedItems:v,optionName:"dbclnr_table_usedby",plugins:c,setSelectedUsedBy:y,toggleModal:l,updateOption:d,mutateSettings:b,onRefresh:function(){return I(!0)},isBusy:k,disabled:k})},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(a.t,{value:s.filterBy,onChange:function(e){E([]),h({filterBy:e,page:1})}},ft.map((function(e){return React.createElement(a.l,{title:e.title,value:e.value,count:r[e.value][s.hideUsedByWordPress],variant:"".concat("warn"===e.filterValue&&r[e.value][s.hideUsedByWordPress]>0?"danger":"primary")})}))),React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",color:a.A.white,style:jt(jt({},ye),{},{color:a.A.blue}),onClick:I,spinning:_,isBusy:_}),L)),React.createElement(a.x,{variant:"raw",data:U,columns:D,selectedItems:[],sort:F,sortIconColor:a.A.blue,onSortChange:function(e,t){return h({accessor:e,sort:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},N,L),React.createElement("div",{style:he},React.createElement(a.d,{id:"dbclnr_tables_hide_wordpress",label:"Hide items used by WordPress",checked:s.hideUsedByWordPress,onChange:function(e){return h({hideUsedByWordPress:e,page:1})}}),React.createElement(De,{id:"dbclnr_tables_search",value:s.search,onChange:function(e){return h({search:e,page:1})},onReset:function(){return h({search:""})}})))))};function Qt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=tn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}function $t(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function Xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){$t(o,r,a,s,i,"next",e)}function i(e){$t(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Zt(e){return function(e){if(Array.isArray(e))return nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rn=wp.element,an=rn.useState,on=rn.useMemo,sn=rn.useCallback,cn=function(e){var t=e.bulkTasks,n=e.initialList,r=e.initialCounts,o=e.initialUsedBy,s=e.mutateList,i=e.onUpdateCounts,c=e.usedbyKey,u=Bt(),l=u.busyAction,m=u.bulkBatchSize,p=u.busyBulkTasks,f=u.busyCleanBulkTasks,d=u.plugins,y=Bt(),b=y.setBusyAction,h=y.toggleModal,g=y.deleteEntries,v=y.updateOption,E=y.refreshEntryCount,R=y.allRefreshEntryCount,_=y.pushBusyBulkTasks,O=y.popBusyBulkTasks,T=y.getEntries,w=y.setEntries,S=y.setSelectedUsedBy,P=y.mutateSettings,A=en(an(n||[]),2),C=A[0],k=A[1],U=en(an(r||[]),2),x=U[0],B=U[1],D=en(an(o||[]),2),j=D[0],I=D[1],N=sn((function(e){k(e)}),[]),L=sn((function(e){B(e)}),[]),F=sn((function(e){I(e)}),[]),M=sn((function(){s&&s()}),[s]),z=sn((function(e){i&&i(e)}),[i]),W=sn((function(e,t){var n=[].concat(Zt((null!=t?t:x).filter((function(t){return t.item!==e}))),[{item:e,count:0}]);return z(n),n}),[x,z]),J=sn((function(){return M()}),[M]),Y=sn((function(e,t){var n=x.filter((function(t){return t.item!==e}));z([].concat(Zt(n),[{item:e,count:t.data}]))}),[x,z]),K=sn((function(e){z(Zt(e))}),[z]),H=sn(function(){var e=Xt(regeneratorRuntime.mark((function e(n){var r,a,o,s,i,c,u,p,f,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=n.item,s=n.currentCounts,b([].concat(Zt(l),[{item:nt(o)}])),c=null!==(r=null===(a=(i=null!=s?s:x).find((function(e){return e.item===o})))||void 0===a?void 0:a.count)&&void 0!==r?r:0,u=Math.ceil(c/m),p=[],f=function(e){var n=function(){var n=Xt(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Pe(100);case 2:return n.next=4,g({item:o,signal:r});case 4:return(a=n.sent).data.finished&&e+1<u&&t.setAlwaysSkip(),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();p.push(n)},d=0;d<u;d++)f(d);return _(),e.next=11,t.start(p);case 11:return t.reset(),O(),y=Zt(i),y=W?W(o,s):[].concat(Zt(i.filter((function(e){return e.item!==o}))),[{item:o,count:0}]),b(Zt(l)),e.abrupt("return",y);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x,l,m,W]),V=sn(function(){var e=Xt(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,r=t.param,e.next=3,v({item:rt(n),param:r,onSuccess:J});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[J]),q=sn(function(){var e=Xt(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.item,e.next=3,E({item:n,onSuccess:Y});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Y]),G=sn(function(){var e=Xt(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.length){e.next=2;break}return e.abrupt("return",!1);case 2:n=Zt(x),r=t?["auto"]:["auto","manual"],a=C.filter((function(e){return r.includes(e.clean_style)})),o=Qt(a),e.prev=6,o.s();case 8:if((s=o.n()).done){e.next=15;break}return i=s.value,e.next=12,R({item:i.item,counts:n,onSuccess:K});case 12:n=e.sent;case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,null,[[6,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),[C,x,K]),Q=sn(Xt(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Zt(x),n=C.filter((function(e){var t;return(null==x||null===(t=x.find((function(t){return t.item===e.item})))||void 0===t?void 0:t.count)>0})),r=Qt(n),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=12;break}return o=a.value,e.next=9,H({item:o.item,currentCounts:t});case 9:t=e.sent;case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])}))),[C,x,H]),$=on((function(){return p||!C.some((function(e){var t;return(null==x||null===(t=x.find((function(t){return t.item===e.item})))||void 0===t?void 0:t.count)>0}))}),[C,x,p]);return{data:on((function(){return Ce(C).map((function(e){var n,r,o,s="never"===e.clean_style,i=null!==(n=null==x||null===(r=x.find((function(t){return t.item===e.item})))||void 0===r?void 0:r.count)&&void 0!==n?n:"-",u="auto"!==e.clean_style?function(){return h("deleteAll",!0,(function(){return H({item:e.item})}))}:function(){return H({item:e.item})},m=l.some((function(t){return t.item===tt(e.item)||t.item===nt(e.item)})),y=i>0&&!l.some((function(t){return t.item===nt(e.item)})),b=l.some((function(t){return t.item===rt(e.item)})),g=l.some((function(t){return t.item==="loading_".concat(e.item)})),E=ge(e,e.name),R=function(){var t=Xt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w([]),t.next=3,T({item:e.item});case 3:h("loadEntry",!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("div",null,i),React.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:5}},y&&React.createElement(a.j,{onClick:R,icon:"search",color:"#007cba",isBusy:g,spinning:g,style:{width:20,marginRight:-2,cursor:"pointer"}}),React.createElement(a.j,{onClick:function(){return q({item:e.item})},icon:"replay",color:"#007cba",spinning:m,style:{width:20,cursor:"pointer"}}))),O=React.createElement("div",{style:{width:"90px"}},React.createElement(a.u,{id:(o=e.item,"dbclnr_".concat(o,"_clean_style")),scrolldown:!0,isBusy:b,onChange:function(t,n){return V({item:e.item,param:{name:n,value:t}})},value:e.clean_style},ut.map((function(e){return React.createElement(a.p,{id:e.value,value:e.value,label:e.label})})))),A=parseFloat(t.value)/parseFloat(t.max),C=isNaN(A)?"":"".concat(parseInt(Math.round(100*A)),"%"),k=!s&&React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{className:y?"danger":"primary",onClick:u,icon:m?"":"trash",style:{minWidth:40,width:40,padding:0,display:"inline-flex",alignItems:"center",justifyContent:"center"},isBusy:m,busyText:C,hideBusyIcon:!!C,disabled:!y||m||p||f}));if(e.info){var U=e.item.replace(/^(list_post_types_)/,"");return{details:E,usedBy:React.createElement(Be,{info:e.info,itemName:U,itemsUsedBy:j,selectedItems:[],optionName:c,plugins:d,setSelectedUsedBy:S,toggleModal:h,updateOption:v,addSelectedItems:function(){},mutateSettings:P,onRefresh:function(){}}),count:_,clean:O,action:k}}return{details:E,count:_,clean:O,action:k}}))}),[C,x,j,c,l,p,f,t,H,V,q,d]),onAllRefreshClick:G,onAllTrashClick:Q,disabledAllTrash:$,updateList:N,updateCounts:L,updateUsedBy:F}};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){pn(o,r,a,s,i,"next",e)}function i(e){pn(o,r,a,s,i,"throw",e)}s(void 0)}))}}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bn=wp.element,hn=bn.useState,gn=bn.useEffect,vn=(bn.useCallback,function(){var e=Bt(),t=e.busy,n=e.posts,r=e.postsCount,o=e.postsMetadata,s=e.postsMetadataCount,i=e.users,c=e.usersCount,u=e.comments,l=e.commentsCount,m=e.transients,p=e.transientsCount,f=e.busyCleanBulkTasks,d=Bt(),y=d.mutatePosts,b=d.setPostsCount,h=d.mutatePostsMetadata,g=d.setPostsMetadataCount,v=d.setBusyAction,E=d.mutateUsers,R=d.setUsersCount,_=d.mutateComments,O=d.setCommentsCount,T=d.setTransientsCount,w=d.mutateTransients,S=d.resetBusyBulkTasks,P=Object(a.L)(),A=dn(hn({posts:!1,postsMetadata:!1,users:!1,comments:!1,transients:!1}),2),C=A[0],k=A[1];gn((function(){return function(){f||(P.stop(),S(),v([]))}}),[f]);var U=cn({bulkTasks:P,initialList:n,initialCounts:r,mutateList:y,onUpdateCounts:b}),x=U.data,B=U.onAllRefreshClick,D=U.onAllTrashClick,j=U.disabledAllTrash,I=U.updateList,N=U.updateCounts;gn((function(){I(n)}),[n,I]),gn((function(){N(r)}),[r,N]);var L=function(){var e=fn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(ln(ln({},C),{},{posts:!0})),e.next=3,B();case 3:k(ln(ln({},C),{},{posts:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=cn({bulkTasks:P,initialList:o,initialCounts:s,mutateList:h,onUpdateCounts:g}),M=F.data,z=F.onAllRefreshClick,W=F.onAllTrashClick,J=F.disabledAllTrash,Y=F.updateList,K=F.updateCounts;gn((function(){Y(o)}),[o,Y]),gn((function(){K(s)}),[s,K]);var H=function(){var e=fn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(ln(ln({},C),{},{postsMetadata:!0})),e.next=3,z();case 3:k(ln(ln({},C),{},{postsMetadata:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=cn({bulkTasks:P,initialList:i,initialCounts:c,mutateList:E,onUpdateCounts:R}),q=V.data,G=V.onAllRefreshClick,Q=V.onAllTrashClick,$=V.disabledAllTrash,X=V.updateList,Z=V.updateCounts;gn((function(){X(i)}),[i,X]),gn((function(){Z(c)}),[c,Z]);var ee=function(){var e=fn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(ln(ln({},C),{},{users:!0})),e.next=3,G();case 3:k(ln(ln({},C),{},{users:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=cn({bulkTasks:P,initialList:u,initialCounts:l,mutateList:_,onUpdateCounts:O}),ne=te.data,re=te.onAllRefreshClick,ae=te.onAllTrashClick,oe=te.disabledAllTrash,se=te.updateList,ie=te.updateCounts;gn((function(){se(u)}),[u,se]),gn((function(){ie(l)}),[l,ie]);var ce=function(){var e=fn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(ln(ln({},C),{},{comments:!0})),e.next=3,re();case 3:k(ln(ln({},C),{},{comments:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=cn({bulkTasks:P,initialList:m,initialCounts:p,mutateList:w,onUpdateCounts:T}),le=ue.data,me=ue.onAllRefreshClick,pe=ue.onAllTrashClick,fe=ue.disabledAllTrash,be=ue.updateList,he=ue.updateCounts;gn((function(){be(m)}),[m,be]),gn((function(){he(p)}),[p,he]);var ge=function(){var e=fn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(ln(ln({},C),{},{transients:!0})),e.next=3,me();case 3:k(ln(ln({},C),{},{transients:!1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:t||C.posts,title:"Posts",className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",title:de.INFO_BULK_REFRESH,style:ye,onClick:L,spinning:C.posts,isBusy:C.posts}),React.createElement(a.c,{icon:"trash",title:de.INFO_BULK_DELETE,style:ye,onClick:function(){return D()},disabled:j}))},React.createElement(a.x,{variant:"raw",data:x,columns:at,selectedItems:[]})),React.createElement(a.a,{busy:t||C.postsMetadata,title:"Posts Metadata",className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",title:de.INFO_BULK_REFRESH,style:ye,onClick:H,spinning:C.postsMetadata,isBusy:C.postsMetadata}),React.createElement(a.c,{icon:"trash",title:de.INFO_BULK_DELETE,style:ye,onClick:function(){return W()},disabled:J}))},React.createElement(a.x,{variant:"raw",data:M,columns:at,selectedItems:[]}))),React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:t||C.users,title:"Users",className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",title:de.INFO_BULK_REFRESH,style:ye,onClick:ee,spinning:C.users,isBusy:C.users}),React.createElement(a.c,{icon:"trash",title:de.INFO_BULK_DELETE,style:ye,onClick:function(){return Q()},disabled:$}))},React.createElement(a.x,{variant:"raw",data:q,columns:at,selectedItems:[]})),React.createElement(a.a,{busy:t||C.comments,title:"Comments",className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",title:de.INFO_BULK_REFRESH,style:ye,onClick:ce,spinning:C.comments,isBusy:C.comments}),React.createElement(a.c,{icon:"trash",title:de.INFO_BULK_DELETE,style:ye,onClick:function(){return ae()},disabled:oe}))},React.createElement(a.x,{variant:"raw",data:ne,columns:at,selectedItems:[]})),React.createElement(a.a,{busy:t||C.transients,title:"Transients",className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",title:de.INFO_BULK_REFRESH,style:ye,onClick:ge,spinning:C.transients,isBusy:C.transients}),React.createElement(a.c,{icon:"trash",title:de.INFO_BULK_DELETE,style:ye,onClick:function(){return pe()},disabled:fe}))},React.createElement(a.x,{variant:"raw",data:le,columns:at,selectedItems:[]}))))});function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function Tn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){On(o,r,a,s,i,"next",e)}function i(e){On(o,r,a,s,i,"throw",e)}s(void 0)}))}}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pn=wp.element,An=Pn.useState,Cn=Pn.useMemo,kn=Pn.useCallback,Un=Pn.useEffect,xn=function(){var e=Bt(),t=e.busy,n=e.listPostTypesTotal,r=e.filteredListPostTypes,o=e.listPostTypesCount,s=e.postTypesUsedBy,i=e.clickedTab,c=e.busyCleanBulkTasks,u=e.initialized,l=e.listPostTypesFilters,m=Bt(),p=m.mutateListPostTypes,f=m.setListPostTypesCount,d=m.resetBusyBulkTasks,y=m.setBusyAction,b=m.setInitialized,h=m.updateOption,g=m.updateListPostTypesFilters,v=i.PostTypes,E=Object(a.L)(),R=wn(An(!1),2),_=R[0],O=R[1],T=wn(An(!1),2),w=T[0],S=T[1];Un((function(){return function(){c||(E.stop(),d(),y([]))}}),[c]);var P=cn({bulkTasks:E,initialList:r,initialCounts:o,initialUsedBy:s,mutateList:p,onUpdateCounts:f,usedbyKey:"dbclnr_post_type_usedby"}),A=P.data,C=P.onAllRefreshClick,k=P.onAllTrashClick,U=P.disabledAllTrash,x=P.updateList,B=P.updateCounts,D=P.updateUsedBy;Un((function(){x(r)}),[r,x]),Un((function(){B(o)}),[o,B]),Un((function(){D(s)}),[s,D]);var j=function(){var e=Tn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,p();case 3:return e.next=5,C();case 5:S(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=kn(Tn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,C(!0);case 3:e.sent&&b("PostTypes",!0),O(!1);case 6:case"end":return e.stop()}}),e)}))),[C]);Un((function(){_||u.PostTypes||1===v&&I()}),[v,I,_,u.PostTypes]);var N=kn(function(){var e=Tn(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h({item:n,param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[h]),L=Cn((function(){return ve("dbclnr_list_post_types_limit",l.limit,(function(e,t){g({limit:e,page:1}),N(e,t)}))}),[l.limit,g,N]),F=Cn((function(){var e=l.page,t=l.limit,r=l.filterBy,o=l.hideUsedByWordPress,s=n[r][o];return React.createElement(a.r,{currentPage:e,limit:t,total:s,onClick:function(e){return g({page:e})}})}),[l.limit,l.page,n,N,g]),M=Cn((function(){return{by:l.sort,accessor:l.accessor}}),[l.accessor,l.sort]);return React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:t,title:"List Post Types",className:"primary",action:React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"trash",title:de.INFO_BULK_DELETE,style:ye,onClick:function(){return k()},disabled:U}))},React.createElement("p",null,"Little note from your favorite developers: Currently, if you assign manually a plugin for an item, the change will not be reflected visually immediately. You will need to reload the page completely to see it. Don't worry, this will be fixed soon! Thanks for your patience! 😏🤟"),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(a.t,{value:l.filterBy,onChange:function(e){g({filterBy:e,page:1})}},dt.map((function(e){return React.createElement(a.l,{title:e.title,value:e.value,count:n[e.value][l.hideUsedByWordPress],variant:"warn"===e.filterValue&&n[e.value][l.hideUsedByWordPress]>0?"danger":"primary"})}))),React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",title:de.INFO_BULK_REFRESH,color:a.A.white,style:Rn(Rn({},ye),{},{color:a.A.blue}),onClick:j,spinning:w,isBusy:w}),F)),React.createElement(a.x,{variant:"raw",data:A,columns:ot,selectedItems:[],sort:M,sortIconColor:a.A.blue,onSortChange:function(e,t){console.log(e,t),g({accessor:e,sort:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},L,F),React.createElement("div",{style:he},React.createElement(a.d,{id:"dbclnr_post_types_hide_wordpress",label:"Hide items used by WordPress",checked:l.hideUsedByWordPress,onChange:function(e){return g({hideUsedByWordPress:e,page:1})}}),React.createElement(De,{id:"dbclnr_post_types_search",value:l.search,onChange:function(e){return g({search:e,page:1})},onReset:function(){return g({search:""})}})))))};function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function Nn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){In(o,r,a,s,i,"next",e)}function i(e){In(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Ln(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||Mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){if(e){if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wn=wp.element,Jn=Wn.useState,Yn=Wn.useMemo,Kn=Wn.useEffect,Hn=Wn.useCallback,Vn=function(){var e=Bt(),t=e.busyAction,n=e.filteredOptions,r=e.busyCleanBulkTasks,o=e.busyOptions,s=e.optionsFilters,i=e.optionsTotal,c=e.optionsUsedBy,u=e.plugins,l=Bt(),m=l.deleteOption,p=l.switchAutoloadedOption,f=l.resetBusyBulkTasks,d=l.updateOption,y=l.toggleModal,b=l.setBusyAction,h=l.setShouldFetchOptions,g=l.updateOptionsFilters,v=l.mutateOptions,E=l.setEntries,R=l.getOptionValue,_=l.pushBusyOptions,O=l.popBusyOptions,T=l.deleteOptions,w=l.setSelectedUsedBy,S=l.mutateSettings,P=Object(a.L)(),A=Fn(Jn([]),2),C=A[0],k=A[1],U=Yn((function(){return C.length===n.length}),[C,n]),x=Yn((function(){return t.some((function(e){return"dbclnr_option_usedby"===e.item}))}),[t]);Kn((function(){h()}),[]),Kn((function(){return function(){r||(P.stop(),f(),b([]))}}),[r]);var B=Yn((function(){var e=n.map((function(e){return e.option_name}));return t.filter((function(t){return e.includes(t.item)}))}),[t,n]),D=Yn((function(){return C.some((function(e){return"wordpress"===e.slug}))}),[C]),j=Yn((function(){return n.map((function(e){var n,r=C.some((function(t){return t.name===e.option_name})),o="yes"===e.autoload,s="wordpress"===(null===(n=e.info)||void 0===n?void 0:n.usedBy.toLowerCase()),i=t.some((function(t){return t.item===e.option_name}))||x,l=r&&i,f=ge(e,e.option_name,(function(t,n){k(t?[].concat(Ln(C),[{name:e.option_name,info:e.info}]):Ln(C.filter((function(t){return t.name!==e.option_name}))))}),r,e.option_name,l),b=t.some((function(t){return t.item==="loading_".concat(e.option_name)})),h=function(){var t=Nn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E([]),t.next=3,R({optionName:e.option_name});case 3:y("optionValue",!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{name:f,usedBy:React.createElement(Be,{info:e.info,itemName:e.option_name,itemsUsedBy:c,optionName:"dbclnr_option_usedby",plugins:u,setSelectedUsedBy:w,toggleModal:y,updateOption:d,mutateSettings:S,onRefresh:function(){N()}}),size:React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(a.j,{onClick:h,icon:"search",color:"#007cba",style:{width:20,marginRight:-2,cursor:"pointer"},isBusy:b}),React.createElement(a.D,{style:{marginLeft:"4px"}},Object(a.G)(e.option_value_length))),autoloaded:React.createElement(a.d,{id:"".concat(e.option_name,"-autoloaded"),checked:o,onChange:function(t){p({item:e.option_name,autoload:t?"yes":"no"})}}),actions:React.createElement(a.c,{className:s?"primary":"danger",onClick:function(){return m({item:e.option_name})},icon:"close",style:{minWidth:40,width:40},disabled:i||s,isBusy:i})}}))}),[n,t,C,c,x]),I=Hn(function(){var e=Nn(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({item:n,param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[d]),N=Hn(Nn(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],_(),e.next=4,v();case 4:t&&k([]),O();case 6:case"end":return e.stop()}}),e)}))),[v]),L=Hn((function(){y("deleteAll",!0,Nn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({items:C.map((function(e){return e.name}))});case 2:if(!(t=e.sent).length){e.next=6;break}return k(t),e.abrupt("return");case 6:k([]);case 7:case"end":return e.stop()}}),e)}))))}),[C]),F=Yn((function(){var e=it.findIndex((function(e){return"name"===e.accessor})),t=it.findIndex((function(e){return"actions"===e.accessor}));if(it[e].title=React.createElement(React.Fragment,null,React.createElement(a.d,{id:"all-options",checked:U,onChange:function(e){k(e?n.map((function(e){return{name:e.option_name,info:e.info}})):[])}}),"Name"),it[t].title="",!C.length)return it;var r=React.createElement(React.Fragment,null,React.createElement(a.c,{icon:"close",title:de.INFO_BULK_DELETE_ITEMS,style:{minWidth:40,width:40},className:D?"primary":"danger",onClick:L,isBusy:B.length>1,disabled:B.length||D}));return it[t].title=r,it}),[it,U,n,C,B,D,L]),M=Yn((function(){return ve("dbclnr_options_limit",s.limit,(function(e,t){k([]),g({limit:e,page:1}),I(e,t)}))}),[s.limit,g,I]),z=Yn((function(){var e=s.page,t=s.limit,n=s.filterBy,r=s.hideUsedByWordPress,o=i[n][r];return React.createElement(a.r,{currentPage:e,limit:t,total:o,onClick:function(e){k([]),g({page:e})}})}),[s.page,s.limit,i,g]),W=Yn((function(){return{by:s.sort,accessor:s.accessor}}),[s.accessor,s.sort]);return Kn((function(){k([])}),[W]),React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:o,title:"Options",className:"primary",action:React.createElement(xe,{itemsUsedBy:c,optionName:"dbclnr_option_usedby",selectedItems:C,plugins:u,setSelectedUsedBy:w,toggleModal:y,updateOption:d,mutateSettings:S,onRefresh:function(){N(!0)},isBusy:x,disabled:x})},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(a.t,{value:s.filterBy,onChange:function(e){k([]),g({filterBy:e,page:1})}},mt.map((function(e){return React.createElement(a.l,{title:e.title,value:e.value,count:i[e.value][s.hideUsedByWordPress],variant:"warn"===e.filterValue&&i[e.value][s.hideUsedByWordPress]>0?"danger":"primary"})}))),React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",color:a.A.white,style:Dn(Dn({},ye),{},{color:a.A.blue}),onClick:N}),z)),React.createElement(a.x,{variant:"raw",data:j,columns:F,selectedItems:[],sort:W,sortIconColor:a.A.blue,onSortChange:function(e,t){return g({accessor:e,sort:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},M,z),React.createElement("div",{style:he},React.createElement(a.d,{id:"dbclnr_options_hide_wordpress",label:"Hide items used by WordPress",checked:s.hideUsedByWordPress,onChange:function(e){return g({hideUsedByWordPress:e,page:1})}}),React.createElement(De,{id:"dbclnr_options_search",value:s.search,onChange:function(e){return g({search:e,page:1})},onReset:function(){return g({search:""})}})))))};var qn=wp.element;qn.useState,qn.useMemo,qn.useCallback,qn.useEffect;function Gn(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var Qn=wp.element.useCallback,$n={marginTop:20,background:"rgb(0, 72, 88)",padding:10,color:"rgb(58, 212, 58)",maxHeight:400,minHeight:200,display:"block",fontFamily:"monospace",fontSize:12,whiteSpace:"pre",overflowX:"auto",borderRadius:10},Xn={database:"database",tables:"tables",autoClean:"autoClean",bulkBatchSize:"bulkBatchSize",ui:"ui",acitons:"actions"},Zn=function(){var e=Bt(),t=e.busy,n=e.busyAction,r=e.agaThreshold,o=e.bulkBatchSize,s=Bt(),i=s.mutateSettings,c=s.resetOptions,u=s.updateOption,l=Bt(),p=l.fileContent,f=(l.logDbSize,l.refreshLogs),d=l.clearLogs,y=Bt(),b=y.postTypesUsedBy,h=y.optionsUsedBy,g=y.tablesUsedBy,v=y.cronJobsUsedBy,E=Qn((function(e){var t=e.name,n=e.value,r=e.item;u({item:r,param:{name:t,value:n},onSuccess:function(){return i()}})}),[i]),R=Qn((function(e){return n.some((function(t){return t.item===e}))}),[n]),_=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){Gn(o,r,a,s,i,"next",e)}function i(e){Gn(o,r,a,s,i,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:t,title:"Settings",className:"primary",action:React.createElement(a.c,{className:"danger",disabled:R(Xn.actions),onClick:_},"Reset Options")},React.createElement(a.v,{title:"Age Threshold"},React.createElement(a.u,{id:"dbclnr_aga_threshold",scrolldown:!0,onChange:function(e,t){return E({name:t,value:e,item:Xn.autoClean})},isBusy:R(Xn.autoClean),value:r,disabled:R(Xn.autoClean),description:React.createElement(React.Fragment,null,"Auto Clean will be applied on items which are older than the specified number of days, months or years.")},lt.map((function(e){return React.createElement(a.p,{id:e.value,value:e.value,label:e.label})})))),React.createElement(a.v,{title:"Batch Size"},React.createElement(a.k,{id:"dbclnr_bulk_batch_size",type:"number",value:o,onBlur:function(e,t){return E({name:t,value:e,item:Xn.bulkBatchSize})},description:React.createElement(React.Fragment,null,"The maximum amount of entries to delete at the same time. That will slow down the process a little but will make it work on huge databases.")}))),React.createElement(a.a,{busy:t,title:"Custom 'Used By' Data",className:"primary"},m&&React.createElement(a.D,null,"When you are done categorizing everything, don't hesitate to share the data below with me through my ",React.createElement("a",{href:"https://meowapps.com/contact",target:"_blank"},"contact form"),". I will add better overall support for this. Thank you ☺️"),React.createElement("pre",{style:{height:145,overflow:"auto",border:"1px solid #dedede",padding:10,background:"#f8f8f8",color:"#8b8b8b"}},(null==b?void 0:b.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# POST TYPES"),null==b?void 0:b.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)),(null==h?void 0:h.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# OPTIONS"),null==h?void 0:h.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)),(null==g?void 0:g.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# TABLES"),null==g?void 0:g.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null)),(null==v?void 0:v.length)>0&&React.createElement(React.Fragment,null,React.createElement("b",null,"# CRON JOBS"),null==v?void 0:v.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return React.createElement("div",null,e.name,"|",e.item,"|",e.slug)})),React.createElement("br",null))))),React.createElement(a.f,{minimal:!0},React.createElement(a.a,{title:"Logs",busy:t,className:"primary",action:React.createElement(React.Fragment,null,React.createElement(a.c,{className:"danger",onClick:d},"Clear Logs"))},React.createElement(a.c,{onClick:f},"Refresh Logs"),React.createElement("div",{style:$n},p))))};function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach((function(t){nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function ar(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){rr(o,r,a,s,i,"next",e)}function i(e){rr(o,r,a,s,i,"throw",e)}s(void 0)}))}}function or(e){return function(e){if(Array.isArray(e))return cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ir(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||ir(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e,t){if(e){if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ur=wp.element,lr=ur.useState,mr=ur.useMemo,pr=ur.useEffect,fr=ur.useCallback,dr=function(){var e=Bt(),t=e.busyAction,n=e.filteredCronJobs,r=e.busyCleanBulkTasks,o=e.busyCronJobs,s=e.cronJobsFilters,i=e.cronJobsTotal,c=e.plugins,u=e.cronJobsUsedBy,l=Bt(),m=l.deleteCron,p=l.deleteCrons,f=l.resetBusyBulkTasks,d=l.updateOption,y=l.toggleModal,b=l.setBusyAction,h=l.setShouldFetchCronJobs,g=l.mutateCronJobs,v=l.pushBusyCronJobs,E=l.popBusyCronJobs,R=l.setSelectedUsedBy,_=l.mutateSettings,O=l.updateCronJobsFilters,T=Object(a.L)(),w=sr(lr([]),2),S=w[0],P=w[1],A=mr((function(){return S.length===n.length}),[S,n]),C=mr((function(){return t.some((function(e){return"dbclnr_cron_job_usedby"===e.item}))}),[t]);pr((function(){h()}),[]),pr((function(){return function(){r||(T.stop(),f(),b([]))}}),[r]);var k=mr((function(){var e=n.map((function(e){return e.cron_name}));return t.filter((function(t){return e.includes(t.item)}))}),[t,n]),U=mr((function(){return S.some((function(e){return"wordpress"===e.slug}))}),[S]),x=mr((function(){return n.map((function(e){var n,r,o,s=S.some((function(t){return t.name===e.cron_name})),i="wordpress"===e.info.usedBy.toLowerCase(),l=t.some((function(t){return t.item===e.cron_name}))||C,p=s&&l;return{name:ge(e,e.cron_name,(function(t,n){P(t?[].concat(or(S),[{name:e.cron_name,args:e.args,info:e.info}]):or(S.filter((function(t){return t.name!==e.cron_name}))))}),s,e.cron_name+e.unixtime,p),usedBy:React.createElement(Be,{info:e.info,itemName:e.cron_name,itemsUsedBy:u,optionName:"dbclnr_cron_job_usedby",plugins:c,setSelectedUsedBy:R,toggleModal:y,updateOption:d,mutateSettings:_,onRefresh:function(){D()}}),schedule:null!==(n=e.schedule)&&void 0!==n?n:"-",nextRun:(r=e.unixtime,o=new Date(1e3*r),o.toLocaleDateString()+" "+o.toLocaleTimeString()),actions:React.createElement(a.c,{className:i?"primary":"danger",icon:"close",onClick:function(){var t={name:e.cron_name,args:e.args};m({item:t})},style:{minWidth:40,width:40},disabled:l||i,isBusy:l})}}))}),[n,t,S,u,C]),B=fr(function(){var e=ar(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({item:n,param:{name:n,value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[d]),D=fr(ar(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],v(),e.next=4,g();case 4:t&&P([]),E();case 6:case"end":return e.stop()}}),e)}))),[g]),j=fr((function(){y("deleteAll",!0,ar(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({items:S.map((function(e){return e.name}))});case 2:if(!(t=e.sent).length){e.next=6;break}return P(t),e.abrupt("return");case 6:P([]);case 7:case"end":return e.stop()}}),e)}))))}),[S]),I=mr((function(){var e=ct.findIndex((function(e){return"name"===e.accessor})),t=ct.findIndex((function(e){return"actions"===e.accessor}));if(ct[e].title=React.createElement(React.Fragment,null,React.createElement(a.d,{id:"all-crons",checked:A,onChange:function(e){P(e?n.map((function(e){return{name:e.cron_name,args:e.args,info:e.info}})):[])}}),"Name"),ct[t].title="",!S.length)return ct;var r=React.createElement(React.Fragment,null,React.createElement(a.c,{icon:"close",title:de.INFO_BULK_DELETE_ITEMS,style:{minWidth:40,width:40},className:U?"primary":"danger",onClick:j,isBusy:k.length>1,disabled:k.length||U}));return ct[t].title=r,ct}),[ct,A,n,S,k,U,j]),N=mr((function(){return ve("dbclnr_cron_jobs_limit",s.limit,(function(e,t){P([]),O({limit:e,page:1}),B(e,t)}))}),[s.limit,O,B]),L=mr((function(){var e=s.page,t=s.limit,n=s.filterBy,r=s.hideUsedByWordPress,o=i[n][r];return React.createElement(a.r,{currentPage:e,limit:t,total:o,onClick:function(e){P([]),O({page:e})}})}),[s.page,s.limit,i,O]),F=mr((function(){return{by:s.sort,accessor:s.accessor}}),[s.accessor,s.sort]);return pr((function(){P([])}),[F]),React.createElement(a.E,null,React.createElement(a.f,{minimal:!0},React.createElement(a.a,{busy:o,title:"Cron Jobs",className:"primary",action:React.createElement(xe,{itemsUsedBy:u,selectedItems:S,optionName:"dbclnr_cron_job_usedby",plugins:c,setSelectedUsedBy:R,toggleModal:y,updateOption:d,mutateSettings:_,onRefresh:function(){D(!0)},isBusy:C,disabled:C})},React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},React.createElement(a.t,{value:s.filterBy,onChange:function(e){P([]),O({filterBy:e,page:1})}},pt.map((function(e){return React.createElement(a.l,{title:e.title,value:e.value,count:i[e.value][s.hideUsedByWordPress],variant:"warn"===e.filterValue&&i[e.value][s.hideUsedByWordPress]>0?"danger":"primary"})}))),React.createElement("div",{style:{display:"flex"}},React.createElement(a.c,{icon:"replay",color:a.A.white,style:tr(tr({},ye),{},{color:a.A.blue}),onClick:D}),L)),React.createElement(a.x,{variant:"raw",data:x,columns:I,selectedItems:[],sort:F,sortIconColor:a.A.blue,onSortChange:function(e,t){return O({accessor:e,sort:t})}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},N,L),React.createElement("div",{style:he},React.createElement(a.d,{id:"dbclnr_cron_jobs_hide_wordpress",label:"Hide items used by WordPress",checked:s.hideUsedByWordPress,onChange:function(e){return O({hideUsedByWordPress:e,page:1})}}),React.createElement(De,{id:"dbclnr_cron_jobs_search",value:s.search,onChange:function(e){return O({search:e,page:1})},onReset:function(){return O({search:""})}})))))};function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e,t,n,r,a,o,s){try{var i=e[o](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){gr(o,r,a,s,i,"next",e)}function i(e){gr(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||Rr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){if(e){if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_r(e,t):void 0}}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Or=wp.element,Tr=Or.useState,wr=Or.useCallback,Sr=Or.useMemo,Pr=["ID","post_title","post_name","post_date","post_status","post_type","option_id","option_name","autoload","meta_id","meta_key","post_id","object_id","term_order","term_taxonomy_id","comment_ID","comment_post_ID","comment_author","comment_date","user_id","meta_key"],Ar=[{prefix:"posts_metadata_",name:"Metadata"},{prefix:"posts_",name:"Posts"},{prefix:"users_",name:"Users"},{prefix:"comments_",name:"Comments"},{prefix:"options_",name:"Options"},{prefix:"list_post_types_",name:"Post Types"},{prefix:"cq_",name:"Custom Queries"}],Cr=function(e){var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Rr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}(Ar);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(0===e.indexOf(r.prefix))return r.name}}catch(e){n.e(e)}finally{n.f()}},kr=function(){var e,t,n,r=Bt(),s=r.apiErrors,c=r.modals,u=r.totalSize,l=r.previousTotalSize,f=r.busyAction,d=r.entries,y=r.plugins,b=r.selectedUsedBy,h=Bt(),g=h.toggleModal,v=h.updateClickedTabByIndex,E=h.deleteEntries,R=h.pushBusyCleanBulkTasks,_=h.getAutoCleanItems,O=h.resetAutoCleanItemsCount,T=h.popBusyCleanBulkTasks,w=h.getTotalDbSizes,S=h.setSelectedUsedBy,P=Er(Tr(),2),A=P[0],C=P[1],k=Er(Tr(0),2),U=k[0],x=k[1],B=Er(Tr(0),2),D=B[0],j=B[1],I=Er(Tr(""),2),N=I[0],L=I[1],F=Er(Tr(!1),2),M=(F[0],F[1],Er(Tr(!1),2)),z=M[0],W=M[1],J=Object(a.L)(),Y=Sr((function(){if(!(null==u?void 0:u.size)||!(null==l?void 0:l.size))return null;var e=1e4*(u.size>l.size?l.size/u.size:u.size/l.size);return e=Math.round(1e4-e)/100,u.size>l.size?e:-1*e}),[null==u?void 0:u.size,null==l?void 0:l.size]),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(t=null!==t?t:J.getErrorCount())>0&&L("The process has finished, but ".concat(t," error(s) occurred.")),J.reset(),C(),x(0),j(0),O(e)},H=function(){var e=vr(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,R(),W(!0),C("Getting tasks..."),e.next=6,_();case 6:if(n=e.sent,console.log("Tasks for Database Cleaner:",n),n.map((function(e){return e.times})).reduce((function(e,t){return e+t}))){e.next=15;break}return alert("Everything is clean already! :)"),K(n,t),T(),W(!1),e.abrupt("return");case 15:return!0,r=[],e.next=19,Ae(500,vr(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=function(e){for(var t=n[e],a=t.times,o=function(e){var n=function(){var n=vr(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C("".concat(Cr(t.item),": ").concat(t.name)),x((function(e){return e+1})),n.next=4,Pe(100);case 4:return n.next=6,E({item:t.item,signal:r,is_auto_clean:!0});case 6:return(o=n.sent).data.finished&&e+1<a&&J.setAlwaysSkip(),n.abrupt("return",o);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();r.push(n)},s=0;s<a;s+=1)o(s)},a=0;a<n.length;a+=1)t(a);j(r.length);case 3:case"end":return e.stop()}}),e)}))));case 19:return C("Cleaning items..."),e.next=22,J.start(r);case 22:J.reset(),t+=J.getErrorCount(),K(n,t),T(),W(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=wr((function(){g("loadEntry",!1)}),[]),q=wr((function(){g("optionValue",!1)}),[]);return React.createElement(a.q,{nekoErrors:[s]},React.createElement(a.i,{title:"Database Cleaner | Settings",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(a.c,{className:"header",onClick:function(){return window.open("https://meowapps.com/database-cleaner/tutorial/","_blank")}},"Tutorial"))),React.createElement(a.E,null,React.createElement(a.f,{full:!0},React.createElement(a.g,null,React.createElement(a.D,{p:!0},React.createElement("p",null,"While using Database Cleaner is easy, I strongly recommend you to read the ",React.createElement("a",{href:"https://meowapps.com/database-cleaner/tutorial/",target:"_blank"},"tutorial")," carefully. This plugin has more capabilities than other plugins of the same kind, so you might find new and interesting ways to handle your cleanups. If any issue, or feature request, please let me know on the ",React.createElement("a",{href:"https://wordpress.org/support/plugin/database-cleaner/",target:"_blank"},"WordPress Forums"),". ",React.createElement("b",null,"Last but not least, backup your DB before doing anything!")," If you don't know how, give a try to ",React.createElement("a",{href:"http://meow.click/blogvault",target:"_blank"},"BlogVault"),". "))),React.createElement("div",{style:{marginBottom:"30px"}},React.createElement(a.B,{style:{alignItems:"center"}},React.createElement(a.c,{icon:"play",disabled:z,onClick:H},"Auto Clean"),A&&React.createElement("div",{style:(e={display:"flex",fontFamily:"Lato",padding:"0 10px",flexDirection:"column",fontWeight:600,width:180},hr(e,"flexDirection","column"),hr(e,"height",30),hr(e,"lineHeight","16px"),hr(e,"justifyContent","center"),hr(e,"textTransform","uppercase"),e)},D>0&&React.createElement("div",{style:{color:"#144675",fontSize:17}},"STEP ".concat(U,"/").concat(D)),React.createElement("div",{style:{color:"#007bba"}},A)),React.createElement("div",{style:{flex:1}},A&&React.createElement(a.s,{status:function(e){return J.max?"".concat(e,"%"):React.createElement(a.j,{icon:"replay",height:16,spinning:!0})},busy:J.busy,value:J.value,max:J.max,onStopClick:J.stop})),React.createElement("div",{style:{display:"flex",alignItems:"center",margin:"-13px 0 -10px 0"}},React.createElement("div",{style:{textAlign:"right"}},React.createElement(a.D,{p:!0,style:{fontSize:12,margin:0,color:a.A.darkGray,lineHeight:1}},ke(null==l?void 0:l.size),React.createElement(a.D,{style:{color:Y>0?a.A.red:a.A.green,marginLeft:"2px"}},"(",Y>0?"+":Y<0?"-":"",Math.abs(Y),"%)")),React.createElement(a.D,{p:!0,style:{fontSize:22,fontWeight:"bold",margin:0,lineHeight:1}},ke(null==u?void 0:u.size))),React.createElement(a.j,{icon:"replay",width:20,height:20,containerStyle:{alignSelf:"end",padding:"0 2px 4px"},color:a.A.blue,spinning:f.some((function(e){return"totalDbSize"===e.item})),onClick:function(){return w()}}),React.createElement(a.j,{icon:"database",width:46,height:46,style:{marginLeft:5}})))),React.createElement(a.y,{keepTabOnReload:!0,onChange:function(e,t,n){v(t.title)},callOnTabChangeFirst:!0},React.createElement(a.w,{title:"WordPress Core"},React.createElement(vn,null)),React.createElement(a.w,{title:"Post Types"},React.createElement(xn,null)),React.createElement(a.w,{title:"Tables"},React.createElement(Gt,null)),React.createElement(a.w,{title:"Options"},React.createElement(Vn,null)),React.createElement(a.w,{title:"Cron Jobs"},React.createElement(dr,null)),React.createElement(a.w,{title:"Settings & Logs"},React.createElement(Zn,null)),React.createElement(a.w,{title:"License"},React.createElement(ue,{domain:i,prefix:o,isPro:m,isRegistered:p}))))),React.createElement(a.o,{isOpen:!!c.deleteAll.enable,onRequestClose:function(){return g("deleteAll",!1)},title:"Delete All",content:"Are you sure?",onOkClick:function(){c.deleteAll.onNext(),g("deleteAll",!1)},onCancelClick:function(){return g("deleteAll",!1)},okOnEnter:!0}),React.createElement(a.o,{isOpen:N,title:"Finished",ok:"Close",content:N,onOkClick:function(){L(""),J.reset()}}),React.createElement(a.o,{isOpen:!!c.loadEntry.enable,onRequestClose:V,title:"Latest 10 entries",content:React.createElement(React.Fragment,null,React.createElement("p",{style:{marginBottom:15}},"You will find those results with all their fields in the console."),React.createElement("div",{style:{maxHeight:380,overflowY:"auto",border:"1px solid #f1f1f1",padding:10}},d.length?d.map((function(e){return React.createElement("ul",{style:{marginTop:0,paddingTop:0,marginBottom:15,borderBottom:"1px dashed #e3e3e3",paddingBottom:8}},Object.keys(e).filter((function(e){return Pr.includes(e)})).map((function(t){return React.createElement("li",{style:{display:"flex"}},React.createElement("div",{style:{flex:1,fontWeight:"bold"}},t),React.createElement("div",{style:{flex:4}},e[t]))})))})):React.createElement("p",null,"No entries."))),onOkClick:V,okOnEnter:!0}),React.createElement(a.o,{isOpen:!!c.optionValue.enable,onRequestClose:q,title:"Option Value",content:React.createElement(React.Fragment,null,React.createElement("pre",{style:{maxHeight:380,overflowY:"auto",border:"1px solid #f1f1f1",padding:10}},d.length?d.map((function(e){return React.createElement("ul",{style:{margin:0}},Object.keys(e).map((function(t){var n=e[t];try{n=JSON.stringify(JSON.parse(n),null,2),console.log("Option Value",JSON.parse(n))}catch(e){}return React.createElement("li",{style:{margin:"0"}},n)})))})):React.createElement("p",null,"No values."))),onOkClick:q,okOnEnter:!0}),React.createElement(a.o,{isOpen:!!c.usedBy.enable,onRequestClose:function(){g("usedBy",!1),S({items:[],value:"unknown"})},title:"Used By".concat((null==b||null===(t=b.items)||void 0===t?void 0:t.length)>1?" (".concat(null==b||null===(n=b.items)||void 0===n?void 0:n.length," selected items)"):""),content:React.createElement(React.Fragment,null,React.createElement(a.u,{scrolldown:!0,value:b.value,onChange:function(e){return S(br(br({},b),{},{value:e}))},style:{maxHeight:"200px",marginBottom:20}},React.createElement(a.p,{value:"unknown",label:"Unknown"}),y.map((function(e){return React.createElement(a.p,{value:e.slug,label:e.name})}))),!m&&React.createElement(a.D,null,"The Pro Version of Database Cleaner knows much more about how this data is used and can simplify this for you. If you are interested, please check ",React.createElement("a",{href:"https://meowapps.com/products/database-cleaner-pro/",target:"_blank"},"Database Cleaner Pro"),". And don't hesitate to ",React.createElement("a",{href:"https://meowapps.com/contact",target:"_blank"},"contact me")," for a discount! 💕"),m&&React.createElement(a.D,null,"PS: Please visit the Settings tab to access all the Custom 'Used By' Data, and don't hesitate to share it with me so that I can make this plugin better.")),onOkClick:function(){c.usedBy.onNext(b),g("usedBy",!1),S({items:[],value:"unknown"})},okOnEnter:!0}))},Ur=wp.element.render,xr={fetcher:a.I,revalidateOnFocus:!1};document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("dbclnr-admin-settings");t&&Ur(React.createElement(r.a,{value:xr},React.createElement(xt,null,React.createElement(kr,null))),t)}))}});
//# sourceMappingURL=index.js.map